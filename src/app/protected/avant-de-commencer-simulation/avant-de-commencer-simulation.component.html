<app-page-loading *ngIf="isPageLoadingDisplay"></app-page-loading>
<div class="container-fluid" role="form">
    <alert type="danger" *ngIf="messageErreur">
        {{messageErreur}}
    </alert>
    <div class="title-container mx-auto">
        <h1 class="h1-style-1 headline-1-typo">
            {{pageTitlesEnum.AVANT_COMMENCER_SIMULATION}}
        </h1>
    </div>
    <div class="card card-body">
        <div class="row">
            <div class="col-12">
                <p class="body-1-typo">
                    Pour faire l’estimation la plus juste, en fonction de votre situation, veuillez vous munir de ces
                    documents :
                </p>
                <div class="documents-demandes">
                    <div class="items-documents-demandes">
                        <span class="headline-5-typo headline-5-typo-color">Relevé de situation ARE</span>
                        <button id="infobulle-trouver-dernier-releve-situation-are"
                            aria-label="Infobulle trouver dernier relevé de situation ARE"
                            class="img-interrogation-icon float-end" [ngClass]="{'popover-open': modalService.isOpen}"
                            placement="right" tag-action="ouverture-infobulle-trouver-dernier-releve-situation-are"
                            (click)="modalService.openModal($event, modalDernierReleveDeSituationARE, true)"></button>
                    </div>
                    <hr>
                    <div class="items-documents-demandes">
                        <span class="headline-5-typo headline-5-typo-color">Notification de droits ASS</span>
                        <button id="infobulle-trouver-notification-droits-ass"
                            aria-label="Infobulle trouver notification de droits ASS"
                            class="img-interrogation-icon float-end" [ngClass]="{'popover-open': modalService.isOpen}"
                            placement="right" tag-action="ouverture-infobulle-trouver-notification-droits-ass"
                            (click)="modalService.openModal($event, modalDerniereNotificationDroitASSTemplate, true)"></button>
                    </div>
                    <hr>
                    <div class="items-documents-demandes">
                        <span class="headline-5-typo headline-5-typo-color">Droits CAF ou MSA</span>
                        <button id="infobulle-trouver-derniere-attestation-caf"
                            aria-label="Infobulle trouver derniere attestation CAF"
                            class="img-interrogation-icon float-end" [ngClass]="{'popover-open': modalService.isOpen}"
                            placement="right" tag-action="ouverture-infobulle-trouver-derniere-attestation-caf"
                            (click)="modalService.openModal($event, modalDerniereAttestationCafTemplate, true)"></button>
                    </div>
                    <hr>
                    <div class="items-documents-demandes">
                        <span class="headline-5-typo headline-5-typo-color">Pension d’invalidité</span>
                    </div>
                </div>
                <div id="div-info-simulation" class="card">
                    <div class="row">
                        <div id="img-info-simulation" class="col-auto">
                            <div>
                                <img alt="" src="./assets/images/info-blue-1.svg">
                            </div>
                        </div>
                        <div id="text-info-simulation" class="col">
                            <span class="body-2-typo">
                                Les résultats qui vous seront donnés ne sont qu’une estimation, ils sont susceptibles
                                d’évoluer en fonction de votre situation, et des évolutions réglementaires.
                            </span>
                        </div>
                    </div>
                </div>
                <button id="btn-je-continue-avant-commencer" data-testid="btn-je-continue-avant-commencer" type="button"
                    class="btn-style-perso-1 mt-4 d-flex justify-content-center" (click)="onClickButtonJeContinue()"
                    tag-navigation="clic_bouton_je_continue">
                    <div>
                        <span class="button-typo">Je continue</span>
                        <img alt="" src="./assets/images/icon-bt-primaire.svg">
                    </div>
                </button>
            </div>
        </div>
    </div>
</div>

<ng-template #modalDernierReleveDeSituationARE>
    <app-tooltip [modalRef]="modalService.modalRef" htmlData='
        <h4 class="headline-4-typo headline-4-typo-color">
            Où trouver votre dernier relevé de situation ARE ? </h4>
        <h5 class="headline-5-typo headline-4-typo-color">Sur internet :</h5>
        <ol class="body-2-typo">
            <li>Connectez-vous sur <a class="link-modal"
                    href="https://candidat.pole-emploi.fr">candidat.pole-emploi.fr</a></li>
            <li>Rendez-vous dans “Mes courriers reçus dans le menu en haut à droite de l’écran</li>
            <li>Dans la liste des courriers reçus vous trouverez vos relevés de situation</li>
            <li>Choisissez le relevé de situation le plus récent et cliquez sur “Télécharger”</li>
        </ol>
        <h5 class="headline-5-typo headline-4-typo-color">Sur l’application mobile “Mon Espace” de Pôle Emploi :</h5>
        <ol class="body-2-typo">
            <li>Ouvrez l’application et connectez-vous si nécessaire</li>
            <li>Accédez à vos courriers depuis la barre de menu en bas de l’écran</li>
            <li>Dans la liste, identifiez le relevé de situation le plus récent et tapez dessus pour l’ouvrir</li>
        </ol>'>
    </app-tooltip>
</ng-template>

<ng-template #modalDerniereNotificationDroitASSTemplate>
    <app-tooltip [modalRef]="modalService.modalRef" htmlData='
        <h4 class="headline-4-typo headline-4-typo-color">
            Où trouver votre dernière notification de droits ASS ?
        </h4>
        <h5 class="headline-5-typo headline-4-typo-color">Sur internet :</h5>
        <ol class="body-2-typo">
            <li>Connectez-vous sur <a class="link-modal"
                    href="https://candidat.pole-emploi.fr">candidat.pole-emploi.fr</a></li>
            <li>Accéder à la rubrique mes courriers et retrouvez votre dernière notification de droits ASS</li>
        </ol>
        <h5 class="headline-5-typo headline-4-typo-color">Sur l’application mobile “Mon Espace” de Pôle Emploi :</h5>
        <ol class="body-2-typo">
            <li>Ouvrez l’application et connectez-vous si nécessaire</li>
            <li>Accédez à vos courriers depuis la barre de menu en bas de l’écran</li>
            <li>Dans la liste identifiez votre dernière notification de droits ASS et tapez dessus pour l’ouvrir.</li>
        </ol>'>
    </app-tooltip>
</ng-template>

<ng-template #modalDerniereAttestationCafTemplate>
    <app-tooltip [modalRef]="modalService.modalRef" htmlData='
        <h4 class="headline-4-typo headline-4-typo-color">
            Où trouver votre dernière attestation de paiement CAF ?
        </h4>
        <h5 class="headline-5-typo headline-4-typo-color">Sur internet :</h5>
        <ol class="body-2-typo">
            <li>Connectez-vous à votre compte sur <a class="link-modal" href="https://caf.fr">caf.fr</a></li>
            <li>Cliquez sur le bouton “Télécharger ma dernière attestation” dans la section “Mes paiements et
                mes droits”</li>
        </ol>
        <h5 class="headline-5-typo headline-4-typo-color">Sur l’application mobile “CAF”</h5>
        <ol class="body-2-typo">
            <li>Ouvrez l’application et connectez-vous si nécessaire</li>
            <li>Accédez à la rubrique mes attestations depuis l’écran d’accueil</li>
            <li>Dans la liste, sélectionnez attestation de paiement </li>
            <li>Vous pouvez ensuite la télécharger.</li>
        </ol>'>
    </app-tooltip>
</ng-template>