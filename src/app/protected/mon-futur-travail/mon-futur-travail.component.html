<div class="container-fluid form-container-fluid">
  <h1 class="h1-style-2">1. Mon futur travail</h1>
  <div class="text-under-h1">Tous les champs marqués d'un * sont obligatoires</div>
  <div class="card card-body card-form">
    <form (ngSubmit)="redirectVersPageSuivante(futurTravailForm)" [ngClass]="{'submitted':submitted}" #futurTravailForm="ngForm">
      <div class="row">
        <div class="col-6 col-md-2 form-group">
          <div class="row">
            <label class="label" for="typeContrat">* Type de contrat</label>
          </div>
          <div class="row">
            <div class="custom-control custom-radio">
              <input id="typeContratCDI" name="typeContrat"  type="radio" class="custom-control-input" [(ngModel)]="demandeurEmploiConnecte.futurTravail.typeContrat" (click)="unsetNombreMoisContrat(typesContratTavailEnum.CDI)" [value]="typesContratTavailEnum.CDI" required #typeContrat="ngModel">
              <label class="custom-control-label" for="typeContratCDI">{{typesContratTavailEnum.CDI}}</label>
            </div>
            <div class="custom-control custom-radio ml-2">
              <input id="typeContratCDD" name="typeContrat"  type="radio" class="custom-control-input" [(ngModel)]="demandeurEmploiConnecte.futurTravail.typeContrat" [value]="typesContratTavailEnum.CDD" required #typeContrat="ngModel">
              <label class="custom-control-label" for="typeContratCDD">{{typesContratTavailEnum.CDD}}</label>
            </div>
            <span class="error-input-message" *ngIf="(submitted || typeContrat.touched)  && typeContrat.errors?.required">Ce champ est obligatoire</span>
          </div>
        </div>
        <div class="col-6 col-md-10 form-group" *ngIf="demandeurEmploiConnecte.futurTravail.typeContrat == 'CDD'">
            <label class="label" for="nombreMoisCDD">* Nombre de mois</label>
            <select id="nombreMoisCDD" name="nombreMoisCDD" [(ngModel)]="demandeurEmploiConnecte.futurTravail.nombreMoisContratCDD" class="form-control" data-width="auto" required #nombreMoisCDD="ngModel">
              <option *ngFor="let nombreMois of nombreMoisCDDSelectOptions" [value]="nombreMois.value">{{ nombreMois.label }}</option>
            </select>
            <span class="error-input-message" *ngIf="(submitted || nombreMoisCDD.touched)  && nombreMoisCDD.errors?.required">Ce champ est obligatoire</span>
        </div>
      </div>
      <div class="form-group">
        <div class="row flex-column">
          <label class="label" for="dureeHebdomadaire">* Nombre d'heures travaillées</label>
        </div>
        <div class="row">
          <input id="dureeHebdomadaire" (keypress)="numberUtileService.authoriserNumericOnly($event)" name="dureeHebdomadaire"  type="number" min="0" class="form-control" placeholder="Nombre d'heures"  [(ngModel)]="demandeurEmploiConnecte.futurTravail.nombreHeuresTravailleesSemaine" required #dureeHebdomadaire="ngModel">
          <span class="text-side-input">par semaine</span>
        </div>
        <span class="row error-input-message" *ngIf="(submitted || dureeHebdomadaire.touched)  && dureeHebdomadaire.errors?.required">Ce champ est obligatoire</span>

      </div>
      <div class="form-group">
        <div class="row flex-column">
          <label class="label" for="salaire-mensuel-net">* Salaire mensuel net<i class="interrogation-icon btn far fa-question-circle" [popover]="popoversalairenettemplate" #popoversalairenet="bs-popover" placement="right"></i></label>
        </div>
        <div class="row">
          <input id="salaireMensuelNet" name="salaireMensuelNet" type="number" (keypress)="numberUtileService.authoriserNumericOnly($event)" min="0" class="form-control" placeholder="Montant"  [(ngModel)]="demandeurEmploiConnecte.futurTravail.salaireMensuelNet" required #salaireMensuelNet="ngModel">
          <span class="text-side-input">€</span>
        </div>
        <span class="row error-input-message" *ngIf="(submitted || salaireMensuelNet.touched)  && salaireMensuelNet.errors?.required">Ce champ est obligatoire</span>
      </div>
      <div class="form-group">
        <div class="row flex-column">
          <label class="label" for="distance-domicile-lieu-travail">* Distance de votre domicile à votre lieu de travail</label>
        </div>
        <div class="row">
          <input id="distanceDomicileLieuTravail" name="distanceDomicileLieuTravail" type="number" (keypress)="numberUtileService.authoriserNumericOnly($event)" min="0" class="form-control" placeholder="Distance" [(ngModel)]="demandeurEmploiConnecte.futurTravail.distanceKmAllerRetourDuDomicile" required #distanceDomicileLieuTravail="ngModel">
          <span class="text-side-input">km</span>
        </div>
        <span class="row error-input-message" *ngIf="(submitted || distanceDomicileLieuTravail.touched)  && distanceDomicileLieuTravail.errors?.required">Ce champ est obligatoire</span>
      </div>
      <div class="form-group">
        <div class="row flex-column">
          <label class="label" for="nombreTrajetsDomicileTravail">* Trajets de votre domicile à votre lieu de travail</label>
        </div>
        <div class="row">
          <input id="nombreTrajetsDomicileTravail" name="nombreTrajetsDomicileTravail" type="number" min="0" (keypress)="numberUtileService.authoriserNumericOnly($event)" class="form-control" placeholder="Nombre"  [(ngModel)]="demandeurEmploiConnecte.futurTravail.nombreTrajetsDomicileTravail" required #nombreTrajetsDomicileTravail="ngModel">
          <span class="text-side-input">par mois</span>
        </div>
        <span class="row error-input-message" *ngIf="(submitted || nombreTrajetsDomicileTravail.touched)  && nombreTrajetsDomicileTravail.errors?.required">Ce champ est obligatoire</span>
      </div>
      <div class="div-buttons-form row">
        <button class="btn btn-primary-style-0" (click)="redirectVersPagePrecedente()"><div><img src="./assets/images/return-arrow.svg" /></div><div class="text-button">Retour</div></button>
        <button class="btn btn-primary-style-3" type="submit"><div class="text-button">Suivant</div><div><img src="./assets/images/icon-bt-primaire.svg" /></div></button>
      </div>
    </form>
  </div>
</div>

<ng-template #popoversalairenettemplate>
<div class="container">
  <div class="close-popover row float-right">
    <i class="fas fa-times-circle mb-2" (click)="popoversalairenet.hide()"></i>
  </div>
  <div class="row">
    <b>Qu'est ce que le salaire brut et net ?</b>
    <p>Le salaire net correspond à la somme versée sur votre compte bancaire après soustraction des cotisations sociales et du prélévement à la source.</p>
    <p>En général, le salaire indiqué dans les offres publiées par Pôle emploi est brut. Il s'agit des sommes perçues avant déduction des cotisations sociales.</p>
    <p>Pour connaître votre future salaire net : <a href="https://code.travail.gouv.fr/outils/simulateur-embauche" target="_blank">https://code.travail.gouv.fr/outils/simulateur-embauche</a></p>
  </div>
</div>

</ng-template>