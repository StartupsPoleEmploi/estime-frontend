<app-fil-etapes-desktop *ngIf="!screenService.isExtraSmallScreen() && !isModificationCriteres"></app-fil-etapes-desktop>
<app-fil-etapes-mobile *ngIf=" screenService.isExtraSmallScreen() && !isModificationCriteres">
</app-fil-etapes-mobile>
<div class="container-fluid container-etape" role="form">
    <div class="form-container-fluid" [ngClass]="isModificationCriteres?'modification-criteres-container':''">
        <div class="div-title-formulaire">
            <h1 *ngIf="!isModificationCriteres" class="h1-style-1"
                [ngClass]="screenService.isExtraSmallScreen()?'headline-2-typo':'headline-1-typo'">
                1. {{PageHeadlineEnum.CONTRAT_TRAVAIL}}
            </h1>
            <h1 *ngIf="isModificationCriteres" class="h1-style-1"
                [ngClass]="screenService.isExtraSmallScreen()?'headline-2-typo':'headline-1-typo'">
                {{PageHeadlineEnum.CONTRAT_TRAVAIL}}
            </h1>
            <div class="text-under-h1 body-2-typo">
                {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE_ASTERIX}}
            </div>
        </div>
        <div class="card mt-4 pb-2">
            <div class="subcard-contrat-travail no-border">
                <div class="row pb-3">
                    <div class="col-md-12">
                        <h4 class="headline-4-typo color-blue-2-typo text-start">
                            * Avez-vous une offre d’emploi à partir de laquelle vous voulez faire une estimation ?
                        </h4>
                    </div>
                </div>
                <div class="row pb-3">
                    <div class="col-md-12">
                        <button id="btn-situation-offre-emploi-oui" name="offreEmploiOui"
                            aria-label="Vous avez une offre d'emploi en vue"
                            class="btn-checkbox-offre-emploi me-2 d-inline" [ngClass]="{'active':hasOffreEmploiOui}"
                            data-testid="btn-situation-offre-emploi-oui" [(ngModel)]="hasOffreEmploiOui" btnCheckbox
                            tabindex="0" #offreEmploiOui="ngModel" tag-action="situation-offre-emploi-connue-oui"
                            (click)="onClickCheckBoxHasOffreEmploiOui()"
                            (keyup)="handleKeyUpOnButtonOffreEmploiOui($event)">
                            <span class="body-2-typo">Oui</span>
                        </button>
                        <button id="btn-situation-offre-emploi-non" name="offreEmploiNon"
                            class="btn-checkbox-offre-emploi d-inline" [ngClass]="{'active':hasOffreEmploiNon}"
                            aria-label="Vous n'avez pas d'offre d'emploi en vue"
                            data-testid="btn-situation-offre-emploi-non" [(ngModel)]="hasOffreEmploiNon" tabindex="0"
                            #offreEmploiNon="ngModel" btnCheckbox tag-action="situation-offre-emploi-connue-non"
                            (click)="onClickCheckBoxHasOffreEmploiNon()"
                            (keyup)="handleKeyUpOnButtonOffreEmploiNon($event)">
                            <div>
                                <span class="body-2-typo">Non</span>
                            </div>
                        </button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <app-message-info
                            contenu="Dans tous les cas vous aurez une estimation que vous pourrez modifier à tout moment.">
                        </app-message-info>
                    </div>
                </div>
            </div>
            <div
                *ngIf="(hasOffreEmploiOui != null && hasOffreEmploiNon != null) || (hasOffreEmploiOui || hasOffreEmploiNon)">
                <form id="futurTravailForm" [ngClass]="{'submitted':isFuturTravailFormSubmitted}"
                    #futurTravailForm="ngForm">
                    <div *ngIf="hasOffreEmploiOui" class="subcard-contrat-travail">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="row pb-3">
                                    <label class="label headline-4-typo">
                                        * Type de contrat
                                    </label>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <button id="btn-type-contrat-cdd" name="typeContratCDD"
                                            aria-label="Type de contrat CDD" class="btn-checkbox-type-contrat me-2"
                                            [ngClass]="{'active':isTypeContratCDD}" data-testid="btn-type-contrat-cdd"
                                            [(ngModel)]="isTypeContratCDD" btnCheckbox tabindex="0"
                                            #typeContratCDD="ngModel" tag-action="situation-contrat-cdd"
                                            (click)="onClickCheckBoxIsTypeContratCDD()"
                                            (keyup)="handleKeyUpOnButtonIsTypeContratCDD($event)">
                                            <span class="body-2-typo">
                                                {{LibellesTypesContratTravailEnum.CDD}}
                                            </span>
                                        </button>
                                        <button id="btn-type-contrat-iae" name="typeContratIAE"
                                            aria-label="Type de contrat IAE" class="btn-checkbox-type-contrat me-2"
                                            [ngClass]="{'active':isTypeContratIAE}" data-testid="btn-type-contrat-iae"
                                            [(ngModel)]="isTypeContratIAE" btnCheckbox tabindex="0"
                                            #typeContratIAE="ngModel" tag-action="situation-contrat-iae"
                                            (click)="onClickCheckBoxIsTypeContratIAE()"
                                            (keyup)="handleKeyUpOnButtonIsTypeContratIAE($event)">
                                            <span class="body-2-typo">
                                                {{screenService.isExtraSmallScreen() ?
                                                LibellesCourtsTypesContratTravailEnum.IAE:LibellesTypesContratTravailEnum.IAE}}
                                            </span>
                                        </button>
                                        <button id="btn-type-contrat-interim" name="typeContratInterim"
                                            aria-label="Type de contrat Interim" class="btn-checkbox-type-contrat me-2"
                                            [ngClass]="{'active':isTypeContratInterim}"
                                            data-testid="btn-type-contrat-interim" [(ngModel)]="isTypeContratInterim"
                                            btnCheckbox tabindex="0" #typeContratInterim="ngModel"
                                            tag-action="situation-contrat-interim"
                                            (click)="onClickCheckBoxIsTypeContratInterim()"
                                            (keyup)="handleKeyUpOnButtonIsTypeContratINTERIM($event)">
                                            <span class="body-2-typo">
                                                {{LibellesTypesContratTravailEnum.INTERIM}}
                                            </span>
                                        </button>
                                        <button id="btn-type-contrat-cdi" name="typeContratCDI"
                                            aria-label="Type de contrat CDI" class="btn-checkbox-type-contrat me-2"
                                            [ngClass]="{'active':isTypeContratCDI}" data-testid="btn-type-contrat-cdi"
                                            [(ngModel)]="isTypeContratCDI" btnCheckbox tabindex="0"
                                            #typeContratCDI="ngModel" tag-action="situation-contrat-cdi"
                                            (click)="onClickCheckBoxIsTypeContratCDI()"
                                            (keyup)="handleKeyUpOnButtonIsTypeContratCDI($event)">
                                            <span class="body-2-typo">
                                                {{LibellesTypesContratTravailEnum.CDI}}
                                            </span>
                                        </button>
                                    </div>
                                </div>
                                <div class="row pb-3">
                                    <div class="col-12">
                                        <span class="error-input-message"
                                            *ngIf="(isFuturTravailFormSubmitted && isTypeContratInvalide())">
                                            {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 pb-3"
                                *ngIf="isTypeContratCDD || isTypeContratIAE || isTypeContratInterim">
                                <div class="row pb-3">
                                    <label class="label headline-4-typo" for="nombreMoisCDD">
                                        * Nombre de mois
                                    </label>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <select id="nombreMoisCDD" name="nombreMoisCDD"
                                            aria-label="Nombre de mois de votre contrat CDD"
                                            data-testid="select-nombre-mois-cdd"
                                            [(ngModel)]="futurTravail.nombreMoisContratCDD" class="form-select"
                                            data-width="auto" required
                                            [ngClass]="{'option-selected': futurTravail.nombreMoisContratCDD !== null}"
                                            #nombreMoisCDD="ngModel">
                                            <option [value]="null" disabled>
                                                Sélectionner
                                            </option>
                                            <option *ngFor="let nombreMois of nombreMoisCDDSelectOptions"
                                                [value]="nombreMois.value">
                                                {{ nombreMois.label }}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <span class="error-input-message"
                                            *ngIf="(isFuturTravailFormSubmitted || nombreMoisCDD.touched)  && nombreMoisCDD.errors?.required">
                                            {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="row flex-column pb-3">
                                <label class="label headline-4-typo" for="dureeHebdomadaire">
                                    * Durée hebdomadaire
                                </label>
                            </div>
                            <div class="row">
                                <div>
                                    <input class="form-control d-inline" data-testid="input-duree-hebdomadaire"
                                        id="dureeHebdomadaire" aria-label="Durée hebdomadaire en heures par semaine"
                                        inputmode="decimal"
                                        (keypress)="controleChampFormulaireService.isKeyAuthorizeForDecimal($event)"
                                        (keyup)="propagateSalaireHoraireMensuel();" maxlength="4"
                                        name="dureeHebdomadaire"
                                        [ngClass]="{'ng-invalid': (futurTravail.nombreHeuresTravailleesSemaine && futurTravail.nombreHeuresTravailleesSemaine == 0) || futurTravail.nombreHeuresTravailleesSemaine > this.controleChampFormulaireService.MONTANT_NBR_HEURE_HEBDO_TRAVAILLE_MAX}"
                                        [(ngModel)]="futurTravail.nombreHeuresTravailleesSemaine"
                                        pattern="{{controleChampFormulaireService.REGEX_DECIMAL}}" placeholder="Nombre"
                                        required type="text" #dureeHebdomadaire="ngModel">
                                    <span class="text-side-input d-inline body-2-typo">heures par semaine</span>
                                </div>
                            </div>
                            <div class="row pb-3">
                                <div class="col-12">
                                    <span class="error-input-message"
                                        *ngIf="this.futurTravail.nombreHeuresTravailleesSemaine && futurTravail.nombreHeuresTravailleesSemaine > this.controleChampFormulaireService.MONTANT_NBR_HEURE_HEBDO_TRAVAILLE_MAX">
                                        {{controleChampFormulaireService.MESSAGE_NBR_HEURE_HEBDO_TRAVAILLE}}
                                    </span>
                                </div>
                                <div class="col-12">
                                    <span class="error-input-message"
                                        *ngIf="this.futurTravail.nombreHeuresTravailleesSemaine && futurTravail.nombreHeuresTravailleesSemaine > this.controleChampFormulaireService.MONTANT_NBR_HEURE_HEBDO_TRAVAILLE_MAX">
                                        {{controleChampFormulaireService.MESSAGE_MONTANT_0}}
                                    </span>
                                </div>
                                <div class="col-12">
                                    <span class="error-input-message"
                                        *ngIf="(isFuturTravailFormSubmitted || dureeHebdomadaire.touched)  && dureeHebdomadaire.errors?.required">
                                        {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                                    </span>
                                </div>
                                <div class="col-12">
                                    <span class="error-input-message"
                                        *ngIf="(isFuturTravailFormSubmitted || dureeHebdomadaire.touched)  && dureeHebdomadaire.errors?.pattern">
                                        {{controleChampFormulaireService.MESSAGE_DUREE_HEBDO_INCORRECTE}}
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="row pb-3">
                            <label class="label headline-4-typo" aria-describedby="contrat-travail-salaire">
                                * Salaire
                                <button id="infobulle-contrat-travail-salaire" aria-label="Infobulle salaire brut/net"
                                    tabindex="0" class="img-interrogation-icon" placement="right"
                                    tag-action="clic_infobulle_salaire"
                                    (click)="modalService.openModalOnEvent($event, modalSalaireNetTemplate, true)"></button>
                            </label>
                        </div>
                        <div class="row">
                            <div class="col-12 d-flex">
                                <input id="salaireMensuelBrut"
                                    pattern="{{controleChampFormulaireService.REGEX_DECIMAL}}" name="salaireMensuelBrut"
                                    aria-label="Salaire mensuel brut" data-testid="input-salaire-mensuel-brut"
                                    type="number"
                                    (keypress)="controleChampFormulaireService.isKeyAuthorizeForNumberOnly($event);"
                                    (keyup)="propagateSalaireHoraireMensuel();" maxlength="6"
                                    class="form-control d-inline"
                                    [ngClass]="{'ng-invalid':futurTravail.salaire.montantMensuelBrut && futurTravail.salaire.montantMensuelBrut == 0 || (isFuturTravailSalaireFormSubmitted && !futurTravail.salaire.montantMensuelBrut), 'd-none': typeSalaireDisplay != 'mensuel_brut'}"
                                    placeholder="Montant" [(ngModel)]="futurTravail.salaire.montantMensuelBrut"
                                    inputmode="decimal" #salaireMensuelBrut="ngModel">
                                <input id="salaireMensuelNet" pattern="{{controleChampFormulaireService.REGEX_DECIMAL}}"
                                    name="salaireMensuelNet" aria-label="Salaire mensuel net"
                                    data-testid="input-salaire-mensuel-net" type="number"
                                    (keypress)="controleChampFormulaireService.isKeyAuthorizeForNumberOnly($event)"
                                    (keyup)="propagateSalaireHoraireMensuel();" maxlength="6"
                                    class="form-control d-inline" placeholder="Montant"
                                    [(ngModel)]="futurTravail.salaire.montantMensuelNet"
                                    [ngClass]="{'ng-invalid':futurTravail.salaire.montantMensuelNet && futurTravail.salaire.montantMensuelNet == 0 || (isFuturTravailSalaireFormSubmitted && !futurTravail.salaire.montantMensuelNet), 'd-none': typeSalaireDisplay != 'mensuel_net'}"
                                    inputmode="decimal" #salaireMensuelNet="ngModel">
                                <input id="salaireHoraireBrut"
                                    pattern="{{controleChampFormulaireService.REGEX_DECIMAL}}" name="salaireHoraireBrut"
                                    aria-label="Salaire horaire brut" data-testid="input-salaire-horaire-brut"
                                    type="number"
                                    (keypress)="controleChampFormulaireService.isKeyAuthorizeForDecimal($event);"
                                    (keyup)="propagateSalaireHoraireMensuel();" maxlength="6"
                                    class="form-control d-inline"
                                    [ngClass]="{'ng-invalid':futurTravail.salaire.montantHoraireBrut && futurTravail.salaire.montantHoraireBrut == 0 || (isFuturTravailSalaireFormSubmitted && !futurTravail.salaire.montantHoraireBrut), 'd-none': typeSalaireDisplay != 'horaire_brut'}"
                                    placeholder="Montant" [(ngModel)]="futurTravail.salaire.montantHoraireBrut"
                                    inputmode="decimal" #salaireHoraireBrut="ngModel">
                                <input id="salaireHoraireNet" pattern="{{controleChampFormulaireService.REGEX_DECIMAL}}"
                                    name="salaireHoraireNet" aria-label="Salaire horaire net"
                                    data-testid="input-salaire-horaire-net" type="number"
                                    (keypress)="controleChampFormulaireService.isKeyAuthorizeForDecimal($event)"
                                    (keyup)="propagateSalaireHoraireMensuel();" maxlength="6"
                                    class="form-control d-inline" placeholder="Montant"
                                    [(ngModel)]="futurTravail.salaire.montantHoraireNet"
                                    [ngClass]="{'ng-invalid':futurTravail.salaire.montantHoraireNet && futurTravail.salaire.montantHoraireNet == 0 || (isFuturTravailSalaireFormSubmitted && !futurTravail.salaire.montantHoraireNet), 'd-none': typeSalaireDisplay != 'horaire_net'}"
                                    inputmode="decimal" #salaireHoraireNet="ngModel">
                                <app-text-with-euro-symbol></app-text-with-euro-symbol>
                                <select id="typeSalaireDisplay" name="typeSalaireDisplay"
                                    aria-label="Type de salaire à afficher (brut/net)" data-testid="select-type-salaire"
                                    [(ngModel)]="typeSalaireDisplay" class="form-select" data-width="auto" required
                                    [ngClass]="{'option-selected': typeSalaireDisplay !== null}"
                                    #nombreMoisCDD="ngModel">
                                    <option value="mensuel_brut">
                                        brut mensuel
                                    </option>
                                    <option value="mensuel_net">
                                        net mensuel
                                    </option>
                                    <option value="horaire_brut">
                                        brut horaire
                                    </option>
                                    <option value="horaire_net">
                                        net horaire
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <span class="error-input-message"
                                    *ngIf="(futurTravail.salaire.montantMensuelBrut && futurTravail.salaire.montantMensuelBrut <= 0)
                                        || (futurTravail.salaire.montantMensuelNet && futurTravail.salaire.montantMensuelNet <= 0)
                                        || (futurTravail.salaire.montantHoraireBrut && futurTravail.salaire.montantHoraireBrut <= 0)
                                        || (futurTravail.salaire.montantHoraireNet && futurTravail.salaire.montantHoraireNet <= 0)">
                                    {{controleChampFormulaireService.MESSAGE_MONTANT_0}}
                                </span>
                            </div>
                            <div class="col-12">
                                <span class="error-input-message" *ngIf="(isFuturTravailSalaireFormSubmitted) &&
                                        (!futurTravail.salaire.montantMensuelBrut
                                         || !futurTravail.salaire.montantMensuelNet
                                         || !futurTravail.salaire.montantHoraireBrut
                                         || !futurTravail.salaire.montantHoraireNet)">
                                    {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                                </span>
                            </div>
                            <div class="col-12">
                                <span class="error-input-message" *ngIf="(isFuturTravailSalaireFormSubmitted  &&
                                        (salaireMensuelBrut.errors?.pattern
                                         || salaireMensuelNet.errors?.pattern
                                         || salaireHoraireBrut.errors?.pattern
                                         || salaireHoraireNet.errors?.pattern))">
                                    {{controleChampFormulaireService.MESSAGE_MONTANT_ERREUR}}
                                </span>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="hasOffreEmploiNon" class="subcard-contrat-travail">
                        <div class="row">
                            <div class="col-12">
                                <div class="row pb-3">
                                    <label class="label headline-4-typo">
                                        * Temps de travail hebdomadaire souhaité
                                    </label>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <button id="btn-duree-hebdo-temps-plein" name="dureeHebdoTempsPlein"
                                            aria-label="Durée hebdomadaire temps plein"
                                            class="btn-checkbox-duree-hebdo me-2 mb-2 d-inline"
                                            [ngClass]="{'active':isDureeHebdoTempsPlein}"
                                            data-testid="btn-situation-duree-hebdo-temps-plein"
                                            [(ngModel)]="isDureeHebdoTempsPlein" btnCheckbox tabindex="0"
                                            #dureeHebdoTempsPlein="ngModel"
                                            tag-action="situation-duree-hebdo-temps-plein"
                                            (click)="onClickCheckBoxIsDureeHebdoTempsPlein()"
                                            (keyup)="handleKeyUpOnButtonIsDureeHebdoTempsPlein($event)">
                                            <span class="body-2-typo label-general">
                                                Temps plein
                                            </span>
                                            <span class="body-2-typo label-precision">
                                                · 35h
                                            </span>
                                        </button>
                                        <button id="btn-duree-hebdo-mi-temps" name="dureeHebdoMiTemps"
                                            aria-label="Durée hebdomadaire mi-temps"
                                            class="btn-checkbox-duree-hebdo me-2 mb-2 d-inline"
                                            [ngClass]="{'active':isDureeHebdoMiTemps}"
                                            data-testid="btn-situation-duree-hebdo-mi-temps"
                                            [(ngModel)]="isDureeHebdoMiTemps" btnCheckbox tabindex="0"
                                            #dureeHebdoMiTemps="ngModel" tag-action="situation-contrat-cdd"
                                            (click)="onClickCheckBoxIsDureeHebdoMiTemps()"
                                            (keyup)="handleKeyUpOnButtonIsDureeHebdoMiTemps($event)">
                                            <span class="body-2-typo label-general">
                                                Mi-temps
                                            </span>
                                            <span class="body-2-typo label-precision">
                                                · 20h
                                            </span>
                                        </button>
                                        <button id="btn-duree-hebdo-autre" name="dureeHebdomadaireAutre"
                                            aria-label="Durée hebdomadaire autre"
                                            class="btn-checkbox-duree-hebdo me-2 mb-2 d-inline"
                                            [ngClass]="{'active':isDureeHebdoAutre}"
                                            data-testid="btn-situation-duree-hebdo-autre"
                                            [(ngModel)]="isDureeHebdoAutre" btnCheckbox tabindex="0"
                                            #dureeHebdomadaireAutre="ngModel" tag-action="situation-contrat-cdd"
                                            (click)="onClickCheckBoxIsDureeHebdoAutre()"
                                            (keyup)="handleKeyUpOnButtonIsDureeHebdoAutre($event)">
                                            <span class="body-2-typo label-general">
                                                Autre
                                            </span>
                                        </button>
                                        <div *ngIf="isDureeHebdoAutre"
                                            [ngClass]="{'d-inline':!screenService.isExtraSmallScreen()}">
                                            <input class="form-control d-inline mb-2"
                                                data-testid="input-duree-hebdomadaire" id="dureeHebdomadaire"
                                                aria-label="Durée hebdomadaire en heures par semaine"
                                                inputmode="decimal"
                                                (keypress)="controleChampFormulaireService.isKeyAuthorizeForDecimal($event)"
                                                maxlength="4" name="dureeHebdomadaire"
                                                [ngClass]="{'ng-invalid': (futurTravail.nombreHeuresTravailleesSemaine && futurTravail.nombreHeuresTravailleesSemaine == 0) || futurTravail.nombreHeuresTravailleesSemaine > this.controleChampFormulaireService.MONTANT_NBR_HEURE_HEBDO_TRAVAILLE_MAX}"
                                                [(ngModel)]="futurTravail.nombreHeuresTravailleesSemaine"
                                                pattern="{{controleChampFormulaireService.REGEX_DECIMAL}}"
                                                placeholder="Nombre" required type="text" #dureeHebdomadaire="ngModel">
                                            <span class="text-side-input d-inline body-2-typo">heures par
                                                semaine</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row pb-3">
                                    <div class="col-12">
                                        <span class="error-input-message"
                                            *ngIf="(isFuturTravailFormSubmitted && isDureeHebdoInvalide())">
                                            {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="row">
                                    <label class="label mb-2 headline-4-typo">
                                        * Salaire mensuel net souhaité
                                    </label>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <button id="btn-salaire-souhaite-smic" name="salaireSouhaiteSMIC"
                                            aria-label="SMIC souhaité" class="btn-checkbox-salaire-souhaite mb-2 me-2"
                                            [ngClass]="{'active':isSalaireSouhaiteSMIC}"
                                            data-testid="btn-situation-salaire-souhaite-smic"
                                            [(ngModel)]="isSalaireSouhaiteSMIC" btnCheckbox tabindex="0"
                                            #salaireSouhaiteSMIC="ngModel" tag-action="situation-salaire-souhaite-smic"
                                            (click)="onClickCheckBoxIsSalaireSouhaiteSMIC()"
                                            (keyup)="handleKeyUpOnButtonIsSalaireSouhaiteSMIC($event)">
                                            <span class="body-2-typo label-general">
                                                SMIC
                                            </span>
                                            <span class="body-2-typo label-precision">
                                                · {{getMontantSmicMensuelNet()}}€ net
                                            </span>
                                        </button>
                                        <button id="btn-salaire-souhaite-autre" name="salaireSouhaiteAutre"
                                            aria-label="Autre salaire souhaité"
                                            class="btn-checkbox-salaire-souhaite me-2 mb-2"
                                            [ngClass]="{'active':isSalaireSouhaiteAutre}"
                                            data-testid="btn-salaire-souhaite-autre"
                                            [(ngModel)]="isSalaireSouhaiteAutre" btnCheckbox tabindex="0"
                                            #salaireSouhaiteAutre="ngModel"
                                            tag-action="situation-salaire-souhaite-autre"
                                            (click)="onClickCheckBoxIsSalaireSouhaiteAutre()"
                                            (keyup)="handleKeyUpOnButtonIsSalaireSouhaiteAutre($event)">
                                            <span class="body-2-typo label-general">
                                                Autre
                                            </span>
                                        </button>
                                        <div *ngIf="isSalaireSouhaiteAutre" class="d-inline">
                                            <input id="salaireMensuelNetOffreEmploiNon"
                                                pattern="{{controleChampFormulaireService.REGEX_DECIMAL}}"
                                                name="salaireMensuelNet" aria-label="Salaire mensuel net"
                                                data-testid="input-salaire-mensuel-net" type="text"
                                                (keypress)="controleChampFormulaireService.isKeyAuthorizeForNumberOnly($event)"
                                                (keyup)="calculSalaireFromMensuelNet();" maxlength="6"
                                                class="form-control d-inline" placeholder="Montant"
                                                [(ngModel)]="futurTravail.salaire.montantMensuelNet"
                                                [ngClass]="{'ng-invalid':futurTravail.salaire.montantMensuelNet && futurTravail.salaire.montantMensuelNet == 0 || (isFuturTravailSalaireFormSubmitted && !futurTravail.salaire.montantMensuelNet), 'd-none': typeSalaireDisplay == 'brut'}"
                                                inputmode="decimal" #salaireMensuelNet="ngModel">
                                            <span class="text-side-input d-inline body-2-typo">€ net</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <span class="error-input-message"
                                            *ngIf="(isFuturTravailFormSubmitted && isSalaireSouhaiteInvalide())">
                                            {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="subcard-contrat-travail">
                        <div *ngIf="hasOffreEmploiOui">
                            <div class="row flex-column pb-3">
                                <label class="label headline-4-typo" for="distanceDomicileLieuTravail">
                                    * Distance entre votre domicile et votre lieu de travail
                                    <button id="infobulle-contrat-travail-distance-travail"
                                        aria-label="Infobulle calcul de distance domicile / travail" tabindex="0"
                                        class="img-interrogation-icon" placement="right"
                                        tag-action="clic_infobulle_calcul_distance_domicile_travail"
                                        (click)="modalService.openModalOnEvent($event, modalDistanceTravailTemplate, true)"></button>
                                </label>
                            </div>
                            <div class="row">
                                <div>
                                    <input id="distanceDomicileLieuTravail" name="distanceDomicileLieuTravail"
                                        data-testid="input-distance-domicile-lieu-travail" type="text"
                                        (keypress)="controleChampFormulaireService.isKeyAuthorizeForNumberOnly($event)"
                                        min="0" maxlength="4" class="form-control d-inline" placeholder="Distance"
                                        [(ngModel)]="futurTravail.distanceKmDomicileTravail" required
                                        inputmode="numeric" #distanceDomicileLieuTravail="ngModel">
                                    <span class="text-side-input d-inline body-2-typo">km</span>
                                </div>
                            </div>
                            <div class="row pb-3">
                                <div class="col-12">
                                    <span class="error-input-message"
                                        *ngIf="(isFuturTravailFormSubmitted || distanceDomicileLieuTravail.touched)  && distanceDomicileLieuTravail.errors?.required">
                                        {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="hasOffreEmploiNon">
                            <div class="row flex-column pb-3">
                                <label class="label headline-4-typo" for="distanceDomicileLieuTravail">
                                    * Distance envisagée entre votre domicile et lieu de travail
                                    <button id="infobulle-contrat-travail-distance-travail"
                                        aria-label="Infobulle calcul de distance domicile / travail" tabindex="0"
                                        class="img-interrogation-icon" placement="right"
                                        tag-action="clic_infobulle_calcul_distance_domicile_travail"
                                        (click)="modalService.openModalOnEvent($event, modalDistanceTravailTemplate, true)"></button>
                                </label>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <button id="btn-distance-envisagee-0-9" name="distanceDomicileTravailEntre0Et9"
                                        aria-label="Distance entre lieu domicile et lieu de travail entre 0 et 9km"
                                        class="btn-checkbox-distance-envisagee me-2"
                                        [ngClass]="{'active':isDistanceDomicileTravailEntre0Et9}"
                                        data-testid="btn-distance-envisagee-0-9"
                                        [(ngModel)]="isDistanceDomicileTravailEntre0Et9" btnCheckbox tabindex="0"
                                        required #distanceDomicileTravailEntre0Et9="ngModel"
                                        tag-action="btn-distance-envisagee-0-9"
                                        (click)="onClickCheckBoxDistanceDomicileTravailEntre0Et9()"
                                        (keyup)="handleKeyUpOnButtonDistanceDomicileTravailEntre0Et9($event)">
                                        <span class="body-2-typo">
                                            0 - 9km
                                        </span>
                                    </button>
                                    <button id="btn-distance-envisagee-10-19" name="distanceDomicileTravailEntre10Et19"
                                        aria-label="Distance entre lieu domicile et lieu de travail entre 10 et 19km"
                                        class="btn-checkbox-distance-envisagee me-2"
                                        [ngClass]="{'active':isDistanceDomicileravailEntre10Et19}"
                                        data-testid="btn-distance-envisagee-10-19"
                                        [(ngModel)]="isDistanceDomicileTravailEntre10Et19" btnCheckbox tabindex="0"
                                        required #distanceDomicileTravailEntre10Et19="ngModel"
                                        tag-action="btn-distance-envisagee-10-19"
                                        (click)="onClickCheckBoxDistanceDomicileTravailEntre10Et19()"
                                        (keyup)="handleKeyUpOnButtonDistanceDomicileTravailEntre10Et19($event)">
                                        <span class="body-2-typo">
                                            10 - 19km
                                        </span>
                                    </button>
                                    <button id="btn-distance-envisagee-20-30" name="distanceDomicileTravailEntre20Et30"
                                        aria-label="Distance entre lieu domicile et lieu de travail entre 20 et 30km"
                                        class="btn-checkbox-distance-envisagee me-2"
                                        [ngClass]="{'active':isDistanceDomicileTravailEntre20Et30}"
                                        data-testid="btn-distance-envisagee-20-30"
                                        [(ngModel)]="isDistanceDomicileTravailEntre20Et30" btnCheckbox tabindex="0"
                                        required #distanceDomicileTravailEntre20Et30="ngModel"
                                        tag-action="btn-distance-envisagee-20-30"
                                        (click)="onClickCheckBoxDistanceDomicileTravailEntre20Et30()"
                                        (keyup)="handleKeyUpOnButtonDistanceDomicileTravailEntre20Et30($event)">
                                        <span class="body-2-typo">
                                            20 - 30km
                                        </span>
                                    </button>
                                    <button id="btn-distance-envisagee-plus-de-30"
                                        name="distanceDomicileTravailPlusDe30"
                                        aria-label="Distance entre lieu domicile et lieu de travail plus de 30km"
                                        class="btn-checkbox-distance-envisagee me-2"
                                        [ngClass]="{'active':isDistanceDomicileTravailPlusDe30}"
                                        data-testid="btn-distance-envisagee-plus-de-30"
                                        [(ngModel)]="isDistanceDomicileTravailPlusDe30" btnCheckbox tabindex="0"
                                        required #distanceDomicileTravailPlusDe30="ngModel"
                                        tag-action="btn-distance-envisagee-plus-de-30"
                                        (click)="onClickCheckBoxDistanceDomicileTravailPlusDe30()"
                                        (keyup)="handleKeyUpOnButtonDistanceDomicileTravailPlusDe30($event)">
                                        <span class="body-2-typo">
                                            + de 30km
                                        </span>
                                    </button>
                                    <input *ngIf="isDistanceDomicileTravailPlusDe30"
                                        id="distanceDomicileLieuTravailPrecision" name="distanceDomicileLieuTravail"
                                        data-testid="input-distance-domicile-lieu-travail" type="text"
                                        (keypress)="controleChampFormulaireService.isKeyAuthorizeForNumberOnly($event)"
                                        min="30" maxlength="4" class="form-control d-inline" placeholder="Distance"
                                        [(ngModel)]="futurTravail.distanceKmDomicileTravail" required
                                        inputmode="numeric" #distanceDomicileLieuTravail="ngModel">
                                    <span *ngIf="isDistanceDomicileTravailPlusDe30"
                                        class="text-side-input d-inline body-2-typo">km</span>
                                </div>
                            </div>
                            <div class="row pb-3">
                                <div class="col-12">
                                    <span class="error-input-message"
                                        *ngIf="(isFuturTravailFormSubmitted) && (distanceDomicileTravailEntre0Et9.errors?.required || distanceDomicileTravailEntre10Et19.errors?.required || distanceDomicileTravailEntre20Et30.errors?.required || distanceDomicileTravailPlusDe30.errors?.required)">
                                        {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                                    </span>
                                </div>
                                <div class="col-12">
                                    <span class="error-input-message"
                                        *ngIf="(isFuturTravailFormSubmitted) && isDistanceDomicileTravailInvalide()">
                                        {{controleChampFormulaireService.MESSAGE_DISTANCE_DOMICILE_TRAVAIL_INVALIDE}}
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="row pb-3">
                            <div class="col-md-12">
                                <app-message-info
                                    contenu="Les informations ci-dessous servent à déterminer si vous pourrez bénéficier de l'aide à la mobilité">
                                </app-message-info>
                            </div>
                        </div>
                        <div *ngIf="afficherNombreTrajetsDomicileTravail()">
                            <div class="row flex-column pb-3">
                                <label class="label headline-4-typo"
                                    aria-describedby="infobulle-contrat-travail-nombre-trajets"
                                    for="nombreTrajetsDomicileTravail">
                                    * Nombre de jours par semaine où vous vous rendrez sur votre lieu de travail
                                    <button id="infobulle-contrat-travail-nombre-trajets"
                                        aria-label="Infobulle exemple nombre de trajets" tabindex="0"
                                        class="img-interrogation-icon" placement="right"
                                        tag-action="clic_infobulle_nombre_trajets_aller_retour_domicile_travail"
                                        (click)="modalService.openModalOnEvent($event, modalNombreTrajetTemplate, true)"></button>
                                </label>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <button id="btn-nombres-trajets-1-jour-semaine" name="nombreTrajets1JourSemaine"
                                        aria-label="1 jour travaillé par semaine"
                                        class="btn-checkbox-nombre-jours-travailles me-2"
                                        [ngClass]="{'active':isNombreTrajets1JourSemaine}"
                                        data-testid="btn-nombres-trajets-1-jour-semaine"
                                        [(ngModel)]="isNombreTrajets1JourSemaine" btnCheckbox tabindex="0" required
                                        #nombreTrajets1JourSemaine="ngModel"
                                        tag-action="situation-nombres-trajets-1-jour-semaine"
                                        (click)="onClickCheckBoxNombresTrajets(1)"
                                        (keyup)="handleKeyUpOnButtonNombresTrajets($event,1)">
                                        <span class="body-2-typo">
                                            1
                                        </span>
                                    </button>
                                    <button id="btn-nombres-trajets-2-jours-semaine" name="nombreTrajets2JoursSemaine"
                                        aria-label="2 jours travaillés par semaine"
                                        class="btn-checkbox-nombre-jours-travailles me-2"
                                        [ngClass]="{'active':isNombreTrajets2JoursSemaine}"
                                        data-testid="btn-nombres-trajets-2-jours-semaine"
                                        [(ngModel)]="isNombreTrajets2JoursSemaine" btnCheckbox tabindex="0" required
                                        #nombreTrajets2JoursSemaine="ngModel"
                                        tag-action="situation-nombres-trajets-2-jours-semaine"
                                        (click)="onClickCheckBoxNombresTrajets(2)"
                                        (keyup)="handleKeyUpOnButtonNombresTrajets($event,2)">
                                        <span class="body-2-typo">
                                            2
                                        </span>
                                    </button>
                                    <button id="btn-nombres-trajets-3-jours-semaine" name="nombreTrajets3JoursSemaine"
                                        aria-label="3 jours travaillés par semaine"
                                        class="btn-checkbox-nombre-jours-travailles me-2"
                                        [ngClass]="{'active':isNombreTrajets3JoursSemaine}"
                                        data-testid="btn-nombres-trajets-3-jours-semaine"
                                        [(ngModel)]="isNombreTrajets3JoursSemaine" btnCheckbox tabindex="0" required
                                        #nombreTrajets3JoursSemaine="ngModel"
                                        tag-action="situation-nombres-trajets-3-jours-semaine"
                                        (click)="onClickCheckBoxNombresTrajets(3)"
                                        (keyup)="handleKeyUpOnButtonNombresTrajets($event,3)">
                                        <span class="body-2-typo">
                                            3
                                        </span>
                                    </button>
                                    <button id="btn-nombres-trajets-4-jours-semaine" name="nombreTrajets4JoursSemaine"
                                        aria-label="4 jours travaillés par semaine"
                                        class="btn-checkbox-nombre-jours-travailles me-2"
                                        [ngClass]="{'active':isNombreTrajets4JoursSemaine}"
                                        data-testid="btn-nombres-trajets-4-jours-semaine"
                                        [(ngModel)]="isNombreTrajets4JoursSemaine" btnCheckbox tabindex="0" required
                                        #nombreTrajets4JoursSemaine="ngModel"
                                        tag-action="situation-nombres-trajets-4-jours-semaine"
                                        (click)="onClickCheckBoxNombresTrajets(4)"
                                        (keyup)="handleKeyUpOnButtonNombresTrajets($event,4)">
                                        <span class="body-2-typo">
                                            4
                                        </span>
                                    </button>
                                    <button id="btn-nombres-trajets-5-jours-semaine" name="nombreTrajets5JoursSemaine"
                                        aria-label="5 jours travaillés par semaine"
                                        class="btn-checkbox-nombre-jours-travailles me-2"
                                        [ngClass]="{'active':isNombreTrajets5JoursSemaine}"
                                        data-testid="btn-nombres-trajets-5-jours-semaine"
                                        [(ngModel)]="isNombreTrajets5JoursSemaine" btnCheckbox tabindex="0" required
                                        #nombreTrajets5JoursSemaine="ngModel"
                                        tag-action="situation-nombres-trajets-5-jours-semaine"
                                        (click)="onClickCheckBoxNombresTrajets(5)"
                                        (keyup)="handleKeyUpOnButtonNombresTrajets($event, 5)">
                                        <span class="body-2-typo">
                                            5
                                        </span>
                                    </button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <span class="error-input-message"
                                        *ngIf="(isFuturTravailFormSubmitted) && (nombreTrajets1JourSemaine.errors?.required || nombreTrajets2JoursSemaine.errors?.required || nombreTrajets3JoursSemaine.errors?.required || nombreTrajets4JoursSemaine.errors?.required || nombreTrajets5JoursSemaine.errors?.required)">
                                        {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div *ngIf="!isModificationCriteres" class="row-btn-form">
            <button class="btn-precedent" (click)="onClickButtonRetour()" aria-label="Retour à la page précédente"
                data-testid="btn-futur-travail-retour" tag-navigation="clic_bouton_retour">
                <div>
                    <img alt="" src="./assets/images/icones/fleche-gauche-grey.svg">
                    <span>Retour</span>
                </div>
            </button>
            <button id="btn-futur-travail-suivant" class="btn-suivant" aria-label="Passer à la page suivante"
                type="submit" data-testid="btn-futur-travail-suivant" (click)="onSubmitFuturTravailForm()"
                tag-navigation="clic_bouton_suivant">
                <div>
                    <span>Suivant</span>
                    <img alt="" src="./assets/images/icones/fleche-droite-pe-white.svg">
                </div>
            </button>
        </div>
    </div>
</div>

<ng-template #modalSalaireNetTemplate>
    <app-tooltip [modalRef]="modalService.modalRef" htmlData="
        <h3 class='headline-3-typo headline-3-typo-color'>Qu'est ce que le salaire brut et net ? </h3>
        <p class='body-1-typo'>
            Le salaire net correspond à la somme versée sur votre compte bancaire après soustraction des cotisations
            sociales et du prélèvement à la source.
        </p>
        <p class='body-1-typo'>
            En général, le salaire indiqué dans les offres publiées par Pôle emploi est brut. Il s'agit des sommes
            perçues avant déduction des cotisations sociales.
        </p>
        <p class='body-1-typo'>
            La conversion du salaire brut en net prend en compte la prévoyance complémentaire santé obligatoire des salariés.
        </p>">
    </app-tooltip>
</ng-template>

<ng-template #modalDistanceTravailTemplate>
    <app-tooltip [modalRef]="modalService.modalRef" htmlData="
        <h3 class='healine-3-typo headline-3-typo-color'>
            Calcul de distance domicile / travail :
        </h3>
        <p class='body-1-typo'>
            Le kilométrage entre votre domicile et votre travail (ou le cas échéant le temps de trajet) est ainsi évalué :
        </p>
        <ul>
            <li class='body-1-typo'>distance du code postal/ville du lieu de domicile du demandeur ;</li>
            <li class='body-1-typo'>au code postal/ville du lieu de travail ;</li>
            <li class='body-1-typo'>dans les conditions normales de circulation,</li>
            <li class='body-1-typo'>en sélectionnant le trajet le plus court via <a href='https://fr.mappy.com'>https://fr.mappy.com<a>.</li>
        </ul>">
    </app-tooltip>
</ng-template>

<ng-template #modalNombreTrajetTemplate>
    <app-tooltip [modalRef]="modalService.modalRef" htmlData="
        <h3 class='healine-3-typo headline-3-typo-color'>
            Exemples de calculs :
        </h3>
        <p class='body-1-typo'>
            Julie réside à Strasbourg. Elle est intéressée par un poste à temps plein à Colmar. Elle pense effectuer
            le trajet tous les jours de la semaine (5 allers Strasbourg - Colmar par semaine) . Elle va donc
            indiquer
            <b>
                5 trajets aller par semaine (ce qui correspond à 20 trajets aller par mois)
            </b>
            .
        </p>
        <p class='body-1-typo'>
            Rachid habite à Reims et envisage un emploi à Marseille. Il pense y déménager mais revenir à Reims le
            weekend le temps de sa période d'essai d'un mois. Il va indiquer
            <b>
                1 trajet aller par semaine (ce qui correspond à 4 trajets aller par mois)
            </b>
            .
        </p>
        <p class='body-1-typo'>
            S'il s'agit d'un poste itinérant, vous devez prendre en compte uniquement les déplacements entre le
            siège de l'entreprise et votre domicile. Cela exclut les déplacements chez les clients.
        </p>">
    </app-tooltip>
</ng-template>