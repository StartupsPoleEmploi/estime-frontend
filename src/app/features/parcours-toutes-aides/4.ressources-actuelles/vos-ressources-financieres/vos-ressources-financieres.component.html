<div class="card card-body card-form card-form-style-3">
    <form [ngClass]="{'submitted':isRessourcesFinancieresFormSubmitted}" #vosRessourcesFinancieresForm="ngForm">
        <div *ngIf="deConnecteBeneficiaireAidesService.isBeneficiaireASS()" class="fieldset-row">
            <div class="row pb-2">
                <label class="label headline-4-typo" for="allocationJournaliereNetASS">
                    * Montant de votre allocation journalière ASS
                    <button id="infobulle-allocation-ass" type="button" class="img-interrogation-icon" placement="right"
                        aria-describedby="labelInfobulleMontantASS" tag-action="clic_infobulle_allocation_ass"
                        (click)="modalService.openModalOnEvent($event, modalAllocationASSTemplate)">
                        <span id="labelInfobulleMontantASS" class="sr-only">
                            Où trouver le montant de votre ASS ?
                        </span>
                        <img alt="" src="./assets/images/icones/question.svg" aria-hidden="true">
                    </button>
                </label>
            </div>
            <div class="row">
                <div class="col">
                    <input id="allocationJournaliereNetASS" name="allocationJournaliereNetASS" type="text"
                        class="form-control d-inline"
                        [ngClass]="{'ng-invalid': this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationASS.allocationJournaliereNet && (this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationASS.allocationJournaliereNet == 0 || this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationASS.allocationJournaliereNet > this.controleChampFormulaireService.MONTANT_ASS_JOURNALIER_MAX)}"
                        data-testid="input-allocation-journaliere-net-ass"
                        pattern="{{controleChampFormulaireService.REGEX_DECIMAL}}" min="0" maxlength="5"
                        placeholder="Montant" inputmode="decimal"
                        [(ngModel)]="ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationASS.allocationJournaliereNet"
                        #allocationJournaliereNetASS="ngModel"
                        (keypress)="controleChampFormulaireService.isKeyAuthorizeForDecimal($event)" required>
                    <app-text-with-euro-symbol message="/ jour"></app-text-with-euro-symbol>
                </div>
            </div>
            <div class="row pb-3">
                <div class="col-12">
                    <p id="erreurChampMontantASSAZero" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || allocationJournaliereNetASS?.touched) && this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationASS && (this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationASS.allocationJournaliereNet == 0)">
                        {{controleChampFormulaireService.MESSAGE_MONTANT_0}}
                    </p>
                </div>
                <div class="col-12">
                    <p id="erreurChampMontantASSErreur" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || allocationJournaliereNetASS?.touched) && this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationASS.allocationJournaliereNet && (this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationASS.allocationJournaliereNet == 0 || this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationASS.allocationJournaliereNet > this.controleChampFormulaireService.MONTANT_ASS_JOURNALIER_MAX)">
                        {{controleChampFormulaireService.MESSAGE_MONTANT_JOURNALIER_ASS}}
                    </p>
                </div>
                <div class="col-12">
                    <p id="erreurChampMontantASSNonPresent" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || allocationJournaliereNetASS?.touched) && allocationJournaliereNetASS?.errors?.required">
                        {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                    </p>
                </div>
                <div class="col-12">
                    <p id="erreurChampMontantASSErreur2" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || allocationJournaliereNetASS.touched)  && allocationJournaliereNetASS.errors?.pattern">
                        {{controleChampFormulaireService.MESSAGE_MONTANT_ERREUR_2}}
                    </p>
                </div>
            </div>
        </div>
        <fieldset *ngIf="deConnecteBeneficiaireAidesService.isBeneficiaireASS()" class="fieldset-row">
            <div class="row pb-2">
                <legend class="label headline-4-typo">
                    * Date de votre ouverture de droits à l'ASS
                    <button id="infobulle-date-ouverture-ass" type="button" class="img-interrogation-icon"
                        placement="right" aria-describedby="labelInfobulleDateOuvertureDroitASS"
                        tag-action="clic_infobulle_allocation_ass"
                        (click)="modalService.openModalOnEvent($event, modalDateOuvertureASSTemplate)">
                        <span id="labelInfobulleDateOuvertureDroitASS" class="sr-only">
                            Où trouver votre date d'ouverture ASS ?
                        </span>
                        <img alt="" src="./assets/images/icones/question.svg" aria-hidden="true">
                    </button>
                </legend>
            </div>
            <div class="row pb-3">
                <div class="col">
                    <app-date-inputs [dateSaisie]="dateDernierOuvertureDroitASS"
                        [isFormSubmitted]="isRessourcesFinancieresFormSubmitted">
                    </app-date-inputs>
                </div>
            </div>
        </fieldset>
        <div *ngIf="deConnecteBeneficiaireAidesService.isBeneficiaireARE()" class="fieldset-row">
            <div class="row pb-2">
                <label class="label headline-4-typo" for="salaireJournalierReferenceBrut">
                    * Montant de votre salaire journalier brut de référence (SJR) pour l'ARE
                    <button id="infobulle-sjr-are" type="button" class="img-interrogation-icon" placement="right"
                        aria-describedby="labelMontantSJR" tag-action="clic_infobulle_obtenir_ressources_are"
                        (click)="modalService.openModalOnEvent($event, modalAllocationARETemplate, true)">
                        <span id="labelMontantSJR" class="sr-only">
                            Où trouver votre salaire journalier référence ARE ?
                        </span>
                        <img alt="" src="./assets/images/icones/question.svg" aria-hidden="true">
                    </button>
                </label>
            </div>
            <div class="row">
                <div class="col">
                    <input id="salaireJournalierReferenceBrut" name="salaireJournalierReferenceBrut" type="text"
                        class="form-control d-inline"
                        [ngClass]="{'ng-invalid': this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.salaireJournalierReferenceBrut && (this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.salaireJournalierReferenceBrut == 0 )}"
                        data-testid="input-salaire-journalier-reference-are"
                        pattern="{{controleChampFormulaireService.REGEX_DECIMAL}}" min="0" maxlength="6"
                        placeholder="Montant" inputmode="decimal"
                        [(ngModel)]="ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.salaireJournalierReferenceBrut"
                        #salaireJournalierReferenceBrut="ngModel"
                        (keypress)="controleChampFormulaireService.isKeyAuthorizeForDecimal($event)" required>
                    <app-text-with-euro-symbol></app-text-with-euro-symbol>
                </div>
            </div>
            <div class="row pb-3">
                <div class="col-12">
                    <p id="erreurChampMontantSJRAZero" class="error-input-message" role="alert"
                        *ngIf="this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE && (this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.salaireJournalierReferenceBrut == 0)">
                        {{controleChampFormulaireService.MESSAGE_MONTANT_0}}
                    </p>
                </div>
                <div class="col-12">
                    <p id="erreurChampMontantNonPresent" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || salaireJournalierReferenceBrut.touched)  && salaireJournalierReferenceBrut.errors?.required">
                        {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                    </p>
                </div>
                <div class="col-12">
                    <p id="erreurChampMontantErreur" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || salaireJournalierReferenceBrut.touched)  && salaireJournalierReferenceBrut.errors?.pattern">
                        {{controleChampFormulaireService.MESSAGE_MONTANT_ERREUR_2}}
                    </p>
                </div>
            </div>
        </div>
        <div *ngIf="deConnecteBeneficiaireAidesService.isBeneficiaireARE()" class="fieldset-row">
            <div class="row pb-2">
                <label class="label headline-4-typo" for="nombreJoursRestants">
                    * Nombre de jours d'allocation restants (reliquat) pour l'ARE
                    <button id="infobulle-nombre-jours-restants-are" type="button" class="img-interrogation-icon"
                        placement="right" aria-describedby="labelInfobulleNombreJoursRestantsARE"
                        tag-action="clic_infobulle_obtenir_ressources_are"
                        (click)="modalService.openModalOnEvent($event, modalAllocationARETemplate, true)">
                        <span id="labelInfobulleNombreJoursRestantsARE" class="sr-only">
                            Où trouver votre nombre jours restants d'ARE ?
                        </span>
                        <img alt="" src="./assets/images/icones/question.svg" aria-hidden="true">
                    </button>
                </label>
            </div>
            <div class="row">
                <div class="col">
                    <input id="nombreJoursRestants" name="nombreJoursRestants" type="text" class="form-control d-inline"
                        [ngClass]="{'ng-invalid': this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.nombreJoursRestants && (this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.nombreJoursRestants == 0)}"
                        data-testid="input-nombre-jours-restants-are"
                        pattern="{{controleChampFormulaireService.REGEX_NUMERIC}}" min="0" maxlength="5"
                        placeholder="Nombre" inputmode="numeric"
                        [(ngModel)]="ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.nombreJoursRestants"
                        #nombreJoursRestants="ngModel"
                        (keypress)="controleChampFormulaireService.isKeyAuthorizeForNumberOnly($event)" required
                        [attr.aria-describedby]="(this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE && (this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.nombreJoursRestants == 0))?'erreurChampNombreJoursRestantsAREAZero':null">

                    <span class="text-side-input d-inline body-2-typo">jours</span>
                </div>
            </div>
            <div class="row pb-3">
                <div class="col-12">
                    <p id="erreurChampNombreJoursRestantsAREAZero" class="error-input-message" role="alert"
                        *ngIf="this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE && (this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.nombreJoursRestants == 0)">
                        {{controleChampFormulaireService.MESSAGE_MONTANT_0}}
                    </p>
                </div>
                <div class="col-12">
                    <p id="erreurChampNombreJoursRestantsARENonPresent" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || nombreJoursRestants.touched)  && nombreJoursRestants.errors?.required">
                        {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                    </p>
                </div>
                <div class="col-12">
                    <p id="erreurChampNombreJoursRestantsAREErreur" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || nombreJoursRestants.touched)  && nombreJoursRestants.errors?.pattern">
                        {{controleChampFormulaireService.MESSAGE_MONTANT_ERREUR_ENTIER}}
                    </p>
                </div>
            </div>
        </div>
        <fieldset *ngIf="afficherQuestionDegressiviteAre()" class="fieldset-row">
            <div class="row pb-2">
                <legend class="label headline-4-typo">
                    * Êtes-vous concerné.e par la dégressivité de l'ARE ?
                    <button id="infobulle-degressivite-are" type="button" class="img-interrogation-icon"
                        placement="right" aria-describedby="labelInfobulleDegressiviteARE"
                        tag-action="clic_infobulle_degressivite_are"
                        (click)="modalService.openModalOnEvent($event, modalDegressiviteTemplate)">
                        <span id="labelInfobulleDegressiviteARE" class="sr-only">
                            Qu'est ce que la degressivité de l'ARE ?
                        </span>
                        <img alt="" src="./assets/images/icones/question.svg" aria-hidden="true">
                    </button>
                </legend>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-check form-check-inline">
                        <input id="hasDegressiviteAreOui" name="hasDegressiviteAre" type="radio"
                            class="form-check-input" [value]="true" data-testid="btn-has-degressivite-are-oui"
                            tag-action="clic_concerne_degressivite_are_oui"
                            [(ngModel)]="ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.hasDegressiviteAre"
                            #hasDegressiviteAre="ngModel" (click)="onClickButtonRadioHasDegressiviteAre(true)"
                            (keyup)="handleKeyUpOnButtonRadioHasDegressiviteAre($event, true)" required>
                        <label class="form-check-label body-2-typo" for="hasDegressiviteAreOui">
                            oui
                            <span class="sr-only">, je suis concerné par la dégressivité de l'ARE</span>
                        </label>
                    </div>
                    <div class="form-check form-check-inline ms-2">
                        <input id="hasDegressiviteAreNon" name="hasDegressiviteAre" type="radio"
                            class="form-check-input" [value]="false" data-testid="btn-has-degressivite-are-non"
                            tag-action="clic_concerne_degressivite_are_non"
                            [(ngModel)]="ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.hasDegressiviteAre"
                            #hasDegressiviteAre="ngModel" (click)="onClickButtonRadioHasDegressiviteAre(false)"
                            (keyup)="handleKeyUpOnButtonRadioHasDegressiviteAre($event, false)" required
                            [attr.aria-describedby]="((isRessourcesFinancieresFormSubmitted)  && hasDegressiviteAre.errors?.required)?'erreurChampHasDegressiviteNonPresent':null">
                        <label class="form-check-label body-2-typo" for="hasDegressiviteAreNon">
                            non
                            <span class="sr-only">, je ne suis pas concerné par la dégressivité de l'ARE</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="row pb-3">
                <div class="col-12">
                    <p id="erreurChampHasDegressiviteNonPresent" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted)  && hasDegressiviteAre.errors?.required">
                        {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                    </p>
                </div>
            </div>
        </fieldset>
        <fieldset *ngIf="afficherQuestionTypeTauxDegressiviteAre()" class="fieldset-row">
            <legend class="row pb-2">
                <span class="label headline-4-typo">
                    * Je souhaite simuler le montant de mon allocation en cas de reprise d'emploi en :
                    <button id="infobulle-ma-situation-vous-percevez" type="button" class="img-interrogation-icon"
                        placement="right" tag-action="clic_infobulle_taux_reduit_degressivite_are"
                        (click)="modalService.openModalOnEvent($event, modalAllocationARETemplate)"
                        aria-describedby="labelInfobulleauxDegressiviteARE">
                        <span id="labelInfobulleauxDegressiviteARE" class="sr-only">
                            Où trouver votre taux réduit de degressivité ARE ?
                        </span>
                        <img alt="" src="./assets/images/icones/question.svg" aria-hidden="true">
                    </button>
                </span>
            </legend>
            <div class="row">
                <div class="col">
                    <input id="tauxPleinDegressiviteAre" name="tauxDegressiviteAre" type="radio" [value]="false"
                        class="radio-as-button" [ngClass]="{'ms-1':!screenService.isExtraSmallScreen()}"
                        data-testid="btn-taux-plein-degressivite-are"
                        [(ngModel)]="ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.isTauxReduit"
                        #tauxPleinDegressiviteAre="ngModel" (click)="onClickCheckBoxTauxPlein($event)"
                        (keyup)="handleKeyUpOnButtonTauxPlein($event)" required>
                    <label for="tauxPleinDegressiviteAre" class="mb-2 me-2">
                        <span class="body-2-typo">
                            <span class="sr-only">Vous souhaitez simuler le montant de votre allocation en&nbsp;</span>
                            Taux plein (avant application de la dégressivité)
                        </span>
                    </label>
                    <input id="tauxReduitDegressiviteAre" name="tauxDegressiviteAre" type="radio" [value]="true"
                        class="radio-as-button" [ngClass]="{'ms-1':!screenService.isExtraSmallScreen()}"
                        data-testid="btn-taux-reduit-degressivite-are"
                        [(ngModel)]="ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.isTauxReduit"
                        #tauxReduitDegressiviteAre="ngModel" (click)="onClickCheckBoxTauxReduit($event)"
                        (keyup)="handleKeyUpOnButtonTauxReduit($event)" required>
                    <label for="tauxReduitDegressiviteAre" class="mb-2 me-2">
                        <span class="body-2-typo">
                            <span class="sr-only">Vous souhaitez simuler le montant de votre allocation en&nbsp;</span>
                            Taux réduit (après application de la dégressivité)
                        </span>
                    </label>
                </div>
            </div>
            <div class="row pb-3">
                <div class="col-12">
                    <p id="erreurSelectionChampTauxDegressivite" class="error-input-message" role="alert"
                        *ngIf="isRessourcesFinancieresFormSubmitted  && !isTauxDegressiviteAreSelectionne()">
                        {{controleChampFormulaireService.MESSAGE_SELECTION_TAUX_DEGRESSIVITE_ARE}}
                    </p>
                </div>
            </div>
        </fieldset>
        <div *ngIf="deConnecteBeneficiaireAidesService.isBeneficiaireARE() && ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.isTauxReduit === true"
            class="fieldset-row">
            <div class="row pb-2">
                <label class="label headline-4-typo" for="allocationJournaliereBruteTauxPlein">
                    * Montant brut de votre allocation journalière à taux plein pour l’ARE
                    <button id="infobulle-ma-situation-vous-percevez" type="button" class="img-interrogation-icon"
                        placement="right" tag-action="clic_infobulle_taux_reduit_degressivite_are"
                        (click)="modalService.openModalOnEvent($event, modalAllocationARETemplate, true)"
                        aria-describedby="labelInfobulleTauxDegressivite">
                        <span id="labelInfobulleTauxDegressivite" class="sr-only">
                            Où trouver votre montant brut d'allocation journalière à taux plein ?
                        </span>
                        <img alt="" src="./assets/images/icones/question.svg" aria-hidden="true">
                    </button>
                </label>
            </div>
            <div class="row">
                <div class="col">
                    <input id="allocationJournaliereBruteTauxPlein" name="allocationJournaliereBruteTauxPlein"
                        type="text" class="form-control d-inline"
                        [ngClass]="{'ng-invalid': this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.allocationJournaliereBruteTauxPlein && (this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.allocationJournaliereBruteTauxPlein == 0)}"
                        data-testid="input-montant-allocation-journaliere-brut-taux-plein-are"
                        pattern="{{controleChampFormulaireService.REGEX_DECIMAL}}" min="0" maxlength="6"
                        placeholder="Montant" inputmode="decimal"
                        [(ngModel)]="ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.allocationJournaliereBruteTauxPlein"
                        #allocationJournaliereBruteTauxPlein="ngModel"
                        (keypress)="controleChampFormulaireService.isKeyAuthorizeForDecimal($event)" required>
                    <app-text-with-euro-symbol message="/ jour"></app-text-with-euro-symbol>
                </div>
            </div>
            <div class="row pb-3">
                <div class="col-12">
                    <p id="erreurChampMontantAllocationAREJournaliereTauxPleinAZero" class="error-input-message"
                        role="alert"
                        *ngIf="this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE && (this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.allocationJournaliereBruteTauxPlein == 0)">
                        {{controleChampFormulaireService.MESSAGE_MONTANT_0}}
                    </p>
                </div>
                <div class="col-12">
                    <p id="erreurChampMontantAllocationAREJournaliereTauxPleinNonPresent" class="error-input-message"
                        role="alert"
                        *ngIf="(isMaSituationFormSubmitted || allocationJournaliereBruteTauxPlein.touched) && allocationJournaliereBruteTauxPlein.errors?.required">
                        {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                    </p>
                </div>
                <div class="col-12">
                    <p id="erreurChampMontantAllocationAREJournaliereTauxPleinErreur" class="error-input-message"
                        role="alert"
                        *ngIf="(isMaSituationFormSubmitted || allocationJournaliereBruteTauxPlein.touched) && allocationJournaliereBruteTauxPlein.errors?.pattern">
                        {{controleChampFormulaireService.MESSAGE_MONTANT_ERREUR_2}}
                    </p>
                </div>
            </div>
        </div>
        <div *ngIf="deConnecteBeneficiaireAidesService.isBeneficiaireARE()" class="fieldset-row">
            <div class="row pb-2">
                <label class="label headline-4-typo" for="allocationJournaliereBrute">
                    * {{ getLibelleMontantBrutAllocationJournaliere() }}
                    <button
                        *ngIf="ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.isTauxReduit === true"
                        id="infobulle-ma-situation-vous-percevez" type="button" class="img-interrogation-icon"
                        placement="right" tag-action="clic_infobulle_taux_reduit_degressivite_are"
                        (click)="modalService.openModalOnEvent($event, modalTauxReduitTemplate)"
                        aria-describedby="labelInfobulleAllocationJournaliereTauxReduit">
                        <span id="labelInfobulleAllocationJournaliereTauxReduit" class="sr-only">
                            Où trouver votre montant brut d'allocation journalière à taux réduit ?
                        </span>
                        <img alt="" src="./assets/images/icones/question.svg" aria-hidden="true">
                    </button>
                </label>
            </div>
            <div class="row">
                <div class="col">
                    <input id="allocationJournaliereBrute" name="allocationJournaliereBrute" type="text"
                        class="form-control d-inline"
                        [ngClass]="{'ng-invalid': this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.allocationJournaliereBrute && (this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.allocationJournaliereBrute== 0)}"
                        data-testid="input-montant-allocation-journaliere-brut-are"
                        pattern="{{controleChampFormulaireService.REGEX_DECIMAL}}" min="0" maxlength="6"
                        placeholder="Montant" inputmode="decimal"
                        [(ngModel)]="ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.allocationJournaliereBrute"
                        #allocationJournaliereBrute="ngModel"
                        (keypress)="controleChampFormulaireService.isKeyAuthorizeForDecimal($event)" required>
                    <app-text-with-euro-symbol message="/ jour"></app-text-with-euro-symbol>
                </div>
            </div>
            <div class="row pb-3">
                <div class="col-12">
                    <p id="erreurChampMontantAllocationAREJournaliereAZero" class="error-input-message" role="alert"
                        *ngIf="this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE && (this.ressourcesFinancieresAvantSimulation.aidesPoleEmploi.allocationARE.allocationJournaliereBrute == 0)">
                        {{controleChampFormulaireService.MESSAGE_MONTANT_0}}
                    </p>
                </div>
                <div class="col-12">
                    <p id="erreurChampMontantAllocationAREJournaliereNonPresent" class="error-input-message"
                        role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || allocationJournaliereBrute.touched)  && allocationJournaliereBrute.errors?.required">
                        {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                    </p>
                </div>
                <div class="col-12">
                    <p id="erreurChampMontantAllocationAREJournaliereErreur" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || allocationJournaliereBrute.touched)  && allocationJournaliereBrute.errors?.pattern">
                        {{controleChampFormulaireService.MESSAGE_MONTANT_ERREUR_2}}
                    </p>
                </div>
            </div>
        </div>
        <div *ngIf="deConnecteSituationFamilialeService.isCelibataireSansEnfant() && deConnecteBeneficiaireAidesService.isBeneficiaireRSA()"
            class="fieldset-row">
            <div class="row pb-2">
                <label class="label headline-4-typo" for="allocationRSA">
                    *&nbsp;
                    <span class="sr-only">Montant mensuel du&nbsp;</span>
                    RSA (Revenu de Solidarité Active) perçu
                    <button id="infobulle-montant-rsa" type="button" class="img-interrogation-icon" placement="right"
                        tag-action="clic_infobulle_rsa"
                        (click)="modalService.openModalOnEvent($event, modalMontantRSATemplate)"
                        aria-describedby="labelInfobulleMontantRSA">
                        <span id="labelInfobulleMontantRSA" class="sr-only">
                            Où trouver votre montant de RSA ?
                        </span>
                        <img alt="" src="./assets/images/icones/question.svg" aria-hidden="true">
                    </button>
                </label>
            </div>
            <div class="row">
                <div class="col">
                    <input id="allocationRSA" name="allocationRSA" type="text" class="form-control d-inline"
                        [ngClass]="{'ng-invalid': this.ressourcesFinancieresAvantSimulation.aidesCAF.allocationRSA && this.ressourcesFinancieresAvantSimulation.aidesCAF.allocationRSA == 0}"
                        data-testid="input-allocation-mensuelle-net-rsa"
                        pattern="{{controleChampFormulaireService.REGEX_NUMERIC}}" min="0" maxlength="8"
                        placeholder="Montant" inputmode="numeric"
                        [(ngModel)]="ressourcesFinancieresAvantSimulation.aidesCAF.allocationRSA"
                        #allocationRSA="ngModel"
                        (keypress)="controleChampFormulaireService.isKeyAuthorizeForNumberOnly($event)" required>
                    <app-text-with-euro-symbol message="le mois dernier"></app-text-with-euro-symbol>
                </div>
            </div>
            <div class="row pb-3">
                <div class="col-12">
                    <p id="erreurChampMontantRSAAZero" class="error-input-message" role="alert"
                        *ngIf="this.ressourcesFinancieresAvantSimulation.aidesCAF.allocationRSA && (this.ressourcesFinancieresAvantSimulation.aidesCAF.allocationRSA == 0)">
                        {{controleChampFormulaireService.MESSAGE_MONTANT_0}}
                    </p>
                </div>
                <div class="col-12">
                    <p id="erreurChampMontantRSANonPresent" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || allocationRSA.touched)  && allocationRSA.errors?.required">
                        {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                    </p>
                </div>
                <div class="col-12">
                    <p id="erreurChampMontantRSAErreur" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || allocationRSA.touched)  && allocationRSA.errors?.pattern">
                        {{controleChampFormulaireService.MESSAGE_MONTANT_ERREUR_ENTIER}}
                    </p>
                </div>
            </div>
        </div>
        <div *ngIf="deConnecteBeneficiaireAidesService.isBeneficiaireAAH()" class="fieldset-row">
            <div class="row pb-2">
                <label class="label headline-4-typo" for="allocationAAH">
                    *&nbsp;
                    <span class="sr-only">Montant mensuel de l'</span>
                    Allocation Adulte Handicapé (AAH) perçue
                    <button id="infobulle-montant-aah" type="button" class="img-interrogation-icon" placement="right"
                        tag-action="clic_infobulle_aah"
                        (click)="modalService.openModalOnEvent($event, modalMontantAAHTemplate)"
                        aria-describedby="labelInfobulleMontantAAH">
                        <span id="labelInfobulleMontantAAH" class="sr-only">
                            Où trouver votre montant d'AAH ?
                        </span>
                        <img alt="" src="./assets/images/icones/question.svg" aria-hidden="true">
                    </button>
                </label>
            </div>
            <div class="row">
                <div class="col">
                    <input id="allocationAAH" name="allocationAAH" type="text"
                        class="max-with-input-type-montant form-control d-inline"
                        [ngClass]="{'ng-invalid': (isRessourcesFinancieresFormSubmitted || allocationAAH?.touched) &&  this.ressourcesFinancieresAvantSimulation.aidesCAF.allocationAAH != null && (this.ressourcesFinancieresAvantSimulation.aidesCAF.allocationAAH == 0)}"
                        data-testid="input-allocation-mensuelle-aah"
                        pattern="{{controleChampFormulaireService.REGEX_NUMERIC}}" maxlength="6" min="0"
                        placeholder="Montant" inputmode="numeric"
                        [(ngModel)]="ressourcesFinancieresAvantSimulation.aidesCAF.allocationAAH "
                        #allocationAAH="ngModel"
                        (keypress)="controleChampFormulaireService.isKeyAuthorizeForNumberOnly($event)" required>
                    <app-text-with-euro-symbol message="le mois dernier"></app-text-with-euro-symbol>
                </div>
            </div>
            <div class="row pb-3">
                <div class="col-12">
                    <p id="erreurChampMontantAAHAZero" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || allocationAAH?.touched) && (this.ressourcesFinancieresAvantSimulation.aidesCAF.allocationAAH != null && this.ressourcesFinancieresAvantSimulation.aidesCAF.allocationAAH == 0)">
                        {{controleChampFormulaireService.MESSAGE_MONTANT_0}}
                    </p>
                </div>
                <div class="col-12">
                    <p id="erreurChampMontantAAHNonPresent" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || allocationAAH?.touched)  && allocationAAH?.errors?.required">
                        {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                    </p>
                </div>
                <div class="col-12">
                    <p id="erreurChampMontantAAHErreur" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || allocationAAH?.touched)  && allocationAAH?.errors?.pattern">
                        {{controleChampFormulaireService.MESSAGE_MONTANT_ERREUR_ENTIER}}
                    </p>
                </div>
            </div>
        </div>
        <div *ngIf="deConnecteSituationFamilialeService.isCelibataireSansEnfant() && deConnecteBeneficiaireAidesService.isBeneficiaireRSA()"
            class="fieldset-row">
            <div class="row pb-2">
                <label class="label pb-3 headline-4-typo" for="prochaineDeclarationTrimestrielle">
                    * Au cours de quel mois ferez-vous votre prochaine déclaration trimestrielle CAF ?
                    <button id="infobulle-prochaine-declaration-trimestrielle" type="button"
                        class="img-interrogation-icon" placement="right"
                        tag-action="clic_infobulle_prochaine_declaration_trimestrielle"
                        (click)="modalService.openModalOnEvent($event, modalProchaineDeclarationTrimestrielleTemplate)"
                        aria-describedby="labelInfobulleProchaineDeclarationTrimestrielle">
                        <span id="labelInfobulleProchaineDeclarationTrimestrielle" class="sr-only">
                            Où trouver la date de votre prochaine déclaration trimestrielle CAF ?
                        </span>
                        <img alt="" src="./assets/images/icones/question.svg" aria-hidden="true">
                    </button>
                </label>
            </div>
            <div class="row">
                <div class="col">
                    <select id="prochaineDeclarationTrimestrielle" name="prochaineDeclarationTrimestrielle"
                        class="fit-content form-select"
                        [ngClass]="{'option-selected':ressourcesFinancieresAvantSimulation.aidesCAF.prochaineDeclarationTrimestrielle !== null}"
                        data-width="auto" data-testid="select-prochaine-declaration-trimestrielle"
                        [(ngModel)]="ressourcesFinancieresAvantSimulation.aidesCAF.prochaineDeclarationTrimestrielle"
                        #prochaineDeclarationTrimestrielle="ngModel" required>
                        <option [value]="null" disabled>
                            Sélectionner
                        </option>
                        <option
                            *ngFor="let moisProchaineDeclarationTrimestrielle of optionsProchaineDeclarationTrimestrielle"
                            [value]="moisProchaineDeclarationTrimestrielle.value">
                            {{ moisProchaineDeclarationTrimestrielle.label }}
                        </option>
                    </select>
                </div>
            </div>
            <div class="row pb-3">
                <div class="col-12">
                    <span id="erreurChampSelectionProchaineDeclarationTrimestrielleNonPresent"
                        class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || prochaineDeclarationTrimestrielle.touched)  && prochaineDeclarationTrimestrielle.errors?.required">
                        {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                    </span>
                </div>
            </div>
        </div>
        <div *ngIf="deConnecteBeneficiaireAidesService.isBeneficiairePensionInvalidite()" class="fieldset-row">
            <div class="row pb-2">
                <label class="label headline-4-typo" for="pensionInvalidite">
                    * Pension d'invalidité nette imposable perçue
                    <button id="infobulle-pension-invalidite" type="button" class="img-interrogation-icon"
                        placement="right" tag-action="clic_infobulle_pension_invalidite"
                        (click)="modalService.openModalOnEvent($event, modalPensionInvaliditeTemplate)"
                        aria-describedby="labelInfobullePensionInvalidite">
                        <span id="labelInfobullePensionInvalidite" class="sr-only">
                            Où trouver votre montant de pension d'invalidité ?
                        </span>
                        <img alt="" src="./assets/images/icones/question.svg" aria-hidden="true">
                    </button>
                </label>
            </div>
            <div class="row">
                <div class="col">
                    <input id="pensionInvalidite" name="pensionInvalidite" type="text"
                        class="max-with-input-type-montant form-control d-inline"
                        [ngClass]="{'ng-invalid': this.ressourcesFinancieresAvantSimulation.aidesCPAM.pensionInvalidite && (this.ressourcesFinancieresAvantSimulation.aidesCPAM.pensionInvalidite == 0)}"
                        data-testid="input-pension-invalidite"
                        pattern="{{controleChampFormulaireService.REGEX_NUMERIC}}" maxlength="6" placeholder="Montant"
                        inputmode="numeric"
                        [(ngModel)]="ressourcesFinancieresAvantSimulation.aidesCPAM.pensionInvalidite"
                        #pensionInvalidite="ngModel"
                        (keypress)="controleChampFormulaireService.isKeyAuthorizeForNumberOnly($event)" required>
                    <app-text-with-euro-symbol message="le mois dernier"></app-text-with-euro-symbol>
                </div>
            </div>
            <div class="row pb-3">
                <div class="col-12">
                    <p id="erreurChampMontantPrimeActiviteAZero" class="error-input-message" role="alert"
                        *ngIf="this.ressourcesFinancieresAvantSimulation.aidesCPAM.pensionInvalidite && (this.ressourcesFinancieresAvantSimulation.aidesCPAM.pensionInvalidite == 0)">
                        {{controleChampFormulaireService.MESSAGE_MONTANT_0}}
                    </p>
                </div>
                <div class="col-12">
                    <p id="erreurChampMontantPrimeActiviteNonPresent" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || pensionInvalidite?.touched)  && pensionInvalidite?.errors?.required">
                        {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                    </p>
                </div>
                <div class="col-12">
                    <p id="erreurChampMontantPrimeActiviteErreur" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || pensionInvalidite?.touched)  && pensionInvalidite?.errors?.pattern">
                        {{controleChampFormulaireService.MESSAGE_MONTANT_ERREUR_ENTIER}}
                    </p>
                </div>
            </div>
        </div>
        <fieldset class="fieldset-row">
            <div class="row pb-2">
                <legend class="label headline-4-typo">
                    * Avez-vous travaillé en tant que salarié au cours des
                    {{ressourcesFinancieresAvantSimulationUtileService.getNombreMaxMoisTravailleAuCoursDerniersMois()}}
                    derniers mois ?
                </legend>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-check form-check-inline">
                        <input id="hasTravailleAuCoursDerniersMoisOui" name="hasTravailleAuCoursDerniersMois"
                            type="radio" [value]="true" class="form-check-input"
                            tag-action="clic_a_travaille_au_cours_14_derniers_mois_oui"
                            data-testid="btn-has-travaille-au-cours-derniers-mois-oui"
                            [(ngModel)]="ressourcesFinancieresAvantSimulation.hasTravailleAuCoursDerniersMois"
                            #hasTravailleAuCoursDerniersMois="ngModel"
                            (click)="onClickButtonRadioHasTravailleAuCoursDerniersMois(true)"
                            (keyup)="handleKeyUpOnButtonRadioHasTravailleAuCoursDerniersMois($event, true)" required
                            attr.aria-invalid="isRessourcesFinancieresFormSubmitted && (hasTravailleAuCoursDerniersMois.errors?.required || (deConnecteInfosPersonnellesService.isSalarie() && ressourcesFinancieresAvantSimulation.hasTravailleAuCoursDerniersMois == false))">
                        <label class=" form-check-label body-2-typo" for="hasTravailleAuCoursDerniersMoisOui">
                            oui
                            <span class="sr-only">
                                , vous avez travaillé au cours des
                                {{ressourcesFinancieresAvantSimulationUtileService.getNombreMaxMoisTravailleAuCoursDerniersMois()}}
                                derniers mois
                            </span>
                        </label>
                    </div>
                    <div class="form-check form-check-inline ms-2">
                        <input id="hasTravailleAuCoursDerniersMoisNon" name="hasTravailleAuCoursDerniersMois"
                            type="radio" [value]="false" class="form-check-input"
                            tag-action="clic_a_travaille_au_cours_14_derniers_mois_non"
                            data-testid="btn-has-travaille-au-cours-derniers-mois-non"
                            [(ngModel)]="ressourcesFinancieresAvantSimulation.hasTravailleAuCoursDerniersMois"
                            #hasTravailleAuCoursDerniersMois="ngModel"
                            (click)="onClickButtonRadioHasTravailleAuCoursDerniersMois(false)"
                            (keyup)="handleKeyUpOnButtonRadioHasTravailleAuCoursDerniersMois($event, false)" required>
                        <label class="form-check-label body-2-typo" for="hasTravailleAuCoursDerniersMoisNon">
                            non
                            <span class="sr-only">
                                , vous n'avez pas travaillé au cours des
                                {{ressourcesFinancieresAvantSimulationUtileService.getNombreMaxMoisTravailleAuCoursDerniersMois()}}
                                derniers mois
                            </span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="row pb-3">
                <div class="col-12">
                    <p id="erreurChampHasTravailleNonPresent" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted) && hasTravailleAuCoursDerniersMois.errors?.required">
                        {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                    </p>
                </div>
                <div class="col-12">
                    <p id="erreurChampSalarieNAPasTravaille" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted) && (deConnecteInfosPersonnellesService.isSalarie() && ressourcesFinancieresAvantSimulation.hasTravailleAuCoursDerniersMois == false)">
                        {{controleChampFormulaireService.MESSAGE_ERREUR_SALARIE_SANS_SALAIRE}}
                    </p>
                </div>
            </div>
        </fieldset>
        <fieldset *ngIf="isAfficherChampsSalaires()" col="fieldset-row">
            <div class="row pb-2">
                <legend class="label headline-4-typo">
                    Indiquez le montant de vos salaires de
                    {{optionsNombreMoisTravailles[optionsNombreMoisTravailles.length-1].label}} à
                    {{optionsNombreMoisTravailles[0].label}}.
                    <span class="mt-1 body-2-typo">Nécessaire pour calculer vos droits à l'aide au logement.</span>
                </legend>
            </div>
            <div class="row">
                <div *ngFor="let optionNombreMoisTravailles of optionsNombreMoisTravailles" class="col-12 col-md-4"
                    [ngClass]="{'col-salaire-with-border':optionNombreMoisTravailles.index-12<0, 'mt-3': !screenService.isExtraSmallScreen()}">
                    <div [ngClass]="{'ms-2 me-2':!screenService.isExtraSmallScreen()}">
                        <div class="row pb-2">
                            <label class="label headline-4-typo"
                                for="salaireMoisMoins{{optionNombreMoisTravailles.index}}AvantSimulation">
                                * Salaire en {{ optionNombreMoisTravailles.label }}
                            </label>
                        </div>
                        <div class="row">
                            <div class="col">
                                <input id="salaireMoisMoins{{optionNombreMoisTravailles.index}}AvantSimulation"
                                    name="salaireMoisMoins{{optionNombreMoisTravailles.index}}AvantSimulation"
                                    type="text" class="max-with-input-type-montant form-control d-inline"
                                    [ngClass]="{'ng-invalid': hasQuatorzeMoisSansSalaire()}"
                                    attr.data-testid="input-salaire-mois-moins-{{optionNombreMoisTravailles.index}}-avant-simulation"
                                    pattern="{{controleChampFormulaireService.REGEX_NUMERIC}}" maxlength="6" min="0"
                                    placeholder="Montant" inputmode="numeric"
                                    [(ngModel)]="ressourcesFinancieresAvantSimulation.periodeTravailleeAvantSimulation.mois[optionNombreMoisTravailles.index].salaire.montantMensuelNet"
                                    #salaireMoisAvantPeriodeSimulee="ngModel"
                                    (blur)="this.ressourcesFinancieresAvantSimulationUtileService.calculSalaireMensuelBrut(ressourcesFinancieresAvantSimulation.periodeTravailleeAvantSimulation.mois[optionNombreMoisTravailles.index].salaire);"
                                    (change)="checkChangePensionInvaliditeEtSalaire(ressourcesFinancieresAvantSimulation.periodeTravailleeAvantSimulation.mois[optionNombreMoisTravailles.index].salaire.montantMensuelNet)"
                                    (keypress)="controleChampFormulaireService.isKeyAuthorizeForNumberOnly($event)"
                                    (click)="$event.target.select()" required>
                                <app-text-with-euro-symbol message="net"></app-text-with-euro-symbol>
                            </div>
                        </div>
                        <div class="row">
                            <span id="erreurChampSalaireMoisMoins{{optionNombreMoisTravailles.index}}AvantSimulation"
                                class="row error-input-message"
                                *ngIf="(isRessourcesFinancieresFormSubmitted || salaireMoisAvantPeriodeSimulee?.touched) && salaireMoisAvantPeriodeSimulee?.errors?.pattern">
                                {{controleChampFormulaireService.MESSAGE_MONTANT_ERREUR_ENTIER}}
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row pb-3">
                <div class="col-12">
                    <p id="erreurChampsSalairesNonPresents" class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted)  && erreurSaisieSalaires">
                        Vous avez déclaré avoir travaillé lors de ces
                        {{ressourcesFinancieresAvantSimulationUtileService.getNombreMaxMoisTravailleAuCoursDerniersMois()}}
                        derniers mois. Veuillez renseigner au moins un salaire.
                    </p>
                </div>
            </div>
        </fieldset>
        <fieldset *ngIf="deConnecteInfosPersonnellesService.isMicroEntrepreneur()" class="fieldset-row">
            <div class="row pb-2">
                <legend class="label headline-4-typo">
                    Type de bénéfices
                </legend>
            </div>
            <div class="row">
                <div class="col">
                    <input id="typeBeneficesBIC" name="typeBenefices" type="radio" [value]="codesTypesBeneficesEnum.BIC"
                        class="radio-as-button"
                        [ngClass]="{'ms-1':!screenService.isExtraSmallScreen(), 'ng-invalid':(isRessourcesFinancieresFormSubmitted && !isTypeBeneficesMicroEntrepriseValide())}"
                        data-testid="btn-types-benefices-bic"
                        [(ngModel)]="informationsPersonnelles.microEntreprise.typeBenefices" #typeBeneficesBIC="ngModel"
                        (keyup)="handleKeyUpOnButtonIsBIC()" (click)="onClickCheckBoxIsBIC($event)"
                        [attr.aria-invalid]="(isRessourcesFinancieresFormSubmitted && !isTypeBeneficesMicroEntrepriseValide())">
                    <label for="typeBeneficesBIC" class="mb-2 me-2">
                        <span class="body-2-typo">{{libellesTypesBeneficesEnum.BIC}}</span>
                    </label>
                    <input id="typeBeneficesBNC" name="typeBenefices" type="radio" [value]="codesTypesBeneficesEnum.BNC"
                        class="radio-as-button"
                        [ngClass]="{'ms-1':!screenService.isExtraSmallScreen(), 'ng-invalid':(isRessourcesFinancieresFormSubmitted && !isTypeBeneficesMicroEntrepriseValide())}"
                        data-testid="btn-types-benefices-bnc"
                        [(ngModel)]="informationsPersonnelles.microEntreprise.typeBenefices" #typeBeneficesBNC="ngModel"
                        (click)="onClickCheckBoxIsBNC()" (keyup)="handleKeyUpOnButtonIsBNC($event)" required
                        [attr.aria-invalid]="(isRessourcesFinancieresFormSubmitted && !isTypeBeneficesMicroEntrepriseValide())">
                    <label for="typeBeneficesBNC" class="mb-2 me-2">
                        <span class="body-2-typo">{{libellesTypesBeneficesEnum.BNC}}</span>
                    </label>
                    <input id="typeBeneficesAR" name="typeBenefices" type="radio" [value]="codesTypesBeneficesEnum.AR"
                        class="radio-as-button"
                        [ngClass]="{'ms-1':!screenService.isExtraSmallScreen(), 'ng-invalid':(isRessourcesFinancieresFormSubmitted && !isTypeBeneficesMicroEntrepriseValide())}"
                        data-testid="btn-types-benefices-ar"
                        [(ngModel)]="informationsPersonnelles.microEntreprise.typeBenefices" #typeBeneficesAR="ngModel"
                        (click)="onClickCheckBoxIsAR()" (keyup)="handleKeyUpOnButtonIsAR($event)" required
                        [attr.aria-invalid]="(isRessourcesFinancieresFormSubmitted && !isTypeBeneficesMicroEntrepriseValide())">
                    <label for="typeBeneficesAR" class="mb-2 me-2">
                        <span class="body-2-typo">{{libellesTypesBeneficesEnum.AR}}</span>
                    </label>
                </div>
            </div>
            <div class="row pb-3">
                <div class="col-12">
                    <p class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted && !isTypeBeneficesMicroEntrepriseValide())">
                        {{controleChampFormulaireService.MESSAGE_SELECTION_OBLIGATOIRE}}
                    </p>
                </div>
            </div>
        </fieldset>
        <div *ngIf="deConnecteInfosPersonnellesService.isMicroEntrepreneur() && isDateCreationRepriseEntrepriseAvantNMoins2()"
            class="fieldset-row">
            <div class="row pb-2">
                <label class="label headline-4-typo" for="chiffreAffairesMicroEntrepriseNMoins2">
                    * Chiffre d’affaires réalisé en {{dateUtileService.getLibelleAnneeDepuisXAnnee(2)}} (hors
                    taxes)
                    <button id="infobulle-chiffre-affaires-n-moins-2" type="button" class="img-interrogation-icon"
                        placement="right" tag-action="clic_infobulle_chiffre_affaires_n_moins_2"
                        (click)="modalService.openModalOnEvent($event, modalChiffreAffairesTemplate)"
                        aria-describedby="labelInfobulleCAMicroAnneeNMoins2">
                        <span id="labelInfobulleCAMicroAnneeNMoins2" class="sr-only">
                            Comment renseigner votre chiffre d'affaires ?
                        </span>
                        <img alt="" src="./assets/images/icones/question.svg" aria-hidden="true">
                    </button>
                </label>
            </div>
            <div class="row">
                <div class="col">
                    <input id="chiffreAffairesMicroEntrepriseNMoins2" name="chiffreAffairesMicroEntrepriseNMoins2"
                        type="text" class="max-with-input-type-montant form-control d-inline"
                        [ngClass]="{'ng-invalid': this.informationsPersonnelles.microEntreprise.chiffreAffairesNMoins2 && (this.informationsPersonnelles.microEntreprise.chiffreAffairesNMoins2 == 0)}"
                        data-testid="input-chiffre-affaires-micro-entreprise-n-moins-2"
                        pattern="{{controleChampFormulaireService.REGEX_NUMERIC}}" maxlength="6" min="0"
                        placeholder="Montant" inputmode="numeric"
                        [(ngModel)]="informationsPersonnelles.microEntreprise.chiffreAffairesNMoins2"
                        #chiffreAffairesMicroEntrepriseNMoins2="ngModel"
                        (keypress)="controleChampFormulaireService.isKeyAuthorizeForNumberOnly($event)" required>
                    <app-text-with-euro-symbol></app-text-with-euro-symbol>
                </div>
            </div>
            <div class="row pb-3">
                <div class="col-12">
                    <p class="error-input-message" role="alert"
                        *ngIf="((isRessourcesFinancieresFormSubmitted || chiffreAffairesMicroEntrepriseNMoins2?.touched)  && chiffreAffairesMicroEntrepriseNMoins2?.errors?.required)">
                        {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                    </p>
                </div>
            </div>
        </div>
        <div *ngIf="deConnecteInfosPersonnellesService.isMicroEntrepreneur() && isDateCreationRepriseEntrepriseAvantNMoins1()"
            class="fieldset-row">
            <div class="row pb-2">
                <label class="label headline-4-typo" for="chiffreAffairesMicroEntrepriseNMoins1">
                    * Chiffre d’affaires réalisé en {{dateUtileService.getLibelleAnneeDepuisXAnnee(1)}} (hors
                    taxes)
                    <button id="infobulle-chiffre-affaires-n-moins-1" type="button" class="img-interrogation-icon"
                        placement="right" tag-action="clic_infobulle_chiffre_affaires_n_moins_1"
                        (click)="modalService.openModalOnEvent($event, modalChiffreAffairesTemplate)"
                        aria-describedby="labelInfobulleCAMicroAnneeNMoins1">
                        <span id="labelInfobulleCAMicroAnneeNMoins1" class="sr-only">
                            Comment renseigner votre chiffre d'affaires ?
                        </span>
                        <img alt="" src="./assets/images/icones/question.svg" aria-hidden="true">
                    </button>
                </label>
            </div>
            <div class="row">
                <div class="col">
                    <input id="chiffreAffairesMicroEntrepriseNMoins1" name="chiffreAffairesMicroEntrepriseNMoins1"
                        type="text" class="max-with-input-type-montant form-control d-inline"
                        [ngClass]="{'ng-invalid': this.informationsPersonnelles.microEntreprise.chiffreAffairesNMoins1 && (this.informationsPersonnelles.microEntreprise.chiffreAffairesNMoins1 == 0)}"
                        pattern="{{controleChampFormulaireService.REGEX_NUMERIC}}" maxlength="6" min="0"
                        placeholder="Montant" inputmode="numeric"
                        data-testid="input-chiffre-affaires-micro-entreprise-n-moins-1"
                        [(ngModel)]="informationsPersonnelles.microEntreprise.chiffreAffairesNMoins1"
                        #chiffreAffairesMicroEntrepriseNMoins1="ngModel"
                        (keypress)="controleChampFormulaireService.isKeyAuthorizeForNumberOnly($event)" required>
                    <app-text-with-euro-symbol></app-text-with-euro-symbol>
                </div>
            </div>
            <div class="row pb-3">
                <div class="col-12">
                    <p class="error-input-message" role="alert"
                        *ngIf="((isRessourcesFinancieresFormSubmitted || chiffreAffairesMicroEntrepriseNMoins1?.touched)  && chiffreAffairesMicroEntrepriseNMoins1?.errors?.required)">
                        {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                    </p>
                </div>
            </div>
        </div>
        <div *ngIf="deConnecteInfosPersonnellesService.isMicroEntrepreneur()" class="fieldset-row">
            <div class="row pb-2">
                <label class="label headline-4-typo" for="chiffreAffairesMicroEntrepriseN">
                    * Chiffre d’affaires estimé pour l’année {{dateUtileService.getAnneeActuelle()}} (hors
                    taxes)
                    <button id="infobulle-chiffre-affaires-n" type="button" class="img-interrogation-icon"
                        placement="right" tag-action="clic_infobulle_chiffre_affaires"
                        (click)="modalService.openModalOnEvent($event, modalChiffreAffairesTemplate)"
                        aria-describedby="labelInfobulleCAMicroAnneeN">
                        <span id="labelInfobulleCAMicroAnneeN" class="sr-only">
                            Comment renseigner votre chiffre d'affaires ?
                        </span>
                        <img alt="" src="./assets/images/icones/question.svg" aria-hidden="true">
                    </button>
                </label>
            </div>
            <div class="row">
                <div class="col">
                    <input id="chiffreAffairesMicroEntrepriseN" name="chiffreAffairesMicroEntreprise" type="text"
                        class="max-with-input-type-montant form-control d-inline"
                        [ngClass]="{'ng-invalid': this.informationsPersonnelles.microEntreprise.chiffreAffairesN && (this.informationsPersonnelles.microEntreprise.chiffreAffairesN == 0)}"
                        data-testid="input-chiffre-affaires-micro-entreprise-n"
                        pattern="{{controleChampFormulaireService.REGEX_NUMERIC}}" maxlength="6" min="0"
                        placeholder="Montant" inputmode="numeric"
                        [(ngModel)]="informationsPersonnelles.microEntreprise.chiffreAffairesN"
                        #chiffreAffairesMicroEntrepriseN="ngModel"
                        (keypress)="controleChampFormulaireService.isKeyAuthorizeForNumberOnly($event)" required>
                    <app-text-with-euro-symbol></app-text-with-euro-symbol>
                </div>
            </div>
            <div class="row pb-3">
                <div class="col-12">
                    <p class="error-input-message" role="alert"
                        *ngIf="((isRessourcesFinancieresFormSubmitted || chiffreAffairesMicroEntrepriseN?.touched) && chiffreAffairesMicroEntrepriseN?.errors?.required)">
                        {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                    </p>
                </div>
            </div>
        </div>
        <div *ngIf="deConnecteInfosPersonnellesService.hasRevenusImmobilier()" class="fieldset-row">
            <div class="row pb-2">
                <label class="label headline-4-typo" for="revenusImmobilier">
                    * Revenus annuels de placement ou du patrimoine
                    <button id="infobulle-revenus-immobilier" type="button" class="img-interrogation-icon"
                        placement="right"
                        tag-action="clic_infobulle_ressources_du_foyer_revenus_annuels_placement_patrimoine"
                        (click)="modalService.openModalOnEvent($event, modalRevenusImmobiliersTemplate)"
                        aria-describedby="labelInfobulleRevenusImmo">
                        <span id="labelInfobulleRevenusImmo" class="sr-only">
                            Où trouver vos revenus immobiliers ?
                        </span>
                        <img alt="" src="./assets/images/icones/question.svg" aria-hidden="true">
                    </button>
                </label>
            </div>
            <div class="row">
                <div class="col">
                    <input id="revenusImmobilier" name="revenusImmobilier" type="text"
                        class="max-with-input-type-montant form-control d-inline"
                        [ngClass]="{'ng-invalid': this.ressourcesFinancieresAvantSimulation.revenusImmobilier3DerniersMois && (this.ressourcesFinancieresAvantSimulation.revenusImmobilier3DerniersMois == 0)}"
                        pattern="{{controleChampFormulaireService.REGEX_NUMERIC}}" maxlength="6" min="0"
                        placeholder="Montant" inputmode="numeric"
                        [(ngModel)]="ressourcesFinancieresAvantSimulation.revenusImmobilier3DerniersMois"
                        #revenusImmobilier="ngModel"
                        (keypress)="controleChampFormulaireService.isKeyAuthorizeForNumberOnly($event)" required>
                    <app-text-with-euro-symbol message="net total 3 derniers mois"></app-text-with-euro-symbol>
                </div>
            </div>
            <div class="row pb-3">
                <div class="col-12">
                    <p class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || revenusImmobilier?.touched)  && revenusImmobilier?.errors?.required">
                        {{controleChampFormulaireService.MESSAGE_CHAMP_OBLIGATOIRE}}
                    </p>
                </div>
                <div class="col-12">
                    <p class="error-input-message" role="alert"
                        *ngIf="(isRessourcesFinancieresFormSubmitted || revenusImmobilier?.touched)  && revenusImmobilier?.errors?.pattern">
                        {{controleChampFormulaireService.MESSAGE_MONTANT_ERREUR_ENTIER}}
                    </p>
                </div>
                <div class="col-12">
                    <p class="error-input-message" role="alert"
                        *ngIf="this.ressourcesFinancieresAvantSimulation.revenusImmobilier3DerniersMois && (this.ressourcesFinancieresAvantSimulation.revenusImmobilier3DerniersMois == 0)">
                        {{controleChampFormulaireService.MESSAGE_MONTANT_0}}
                    </p>
                </div>
            </div>
        </div>
    </form>
    <div class="row row-button-valider">
        <div class="col">
            <button id="btn-vos-ressources-valider" type="submit" class="btn-style-perso-3 button-typo"
                data-testid="btn-vos-ressources-valider"
                (click)="onSubmitRessourcesFinancieresForm(vosRessourcesFinancieresForm)"
                tag-action="clic_bouton_valider_vos_ressources" aria-label="Valider votre saisie">
                <div>
                    <span>Valider</span>
                    <span class="sr-only">&nbsp;vos ressources financières</span>
                </div>
            </button>
        </div>
    </div>
</div>

<ng-template #modalAllocationASSTemplate>
    <app-tooltip [modalRef]="modalService.modalRef" htmlData="
        <h3 id='modalTitle' class='headline-3-typo headline-3-typo-color'>
            Où trouver cette information ?
        </h3>
        <p class='body-1-typo'>
            Sur votre dernière attestation de période indemnisée Pôle emploi 👇
        </p>
        <figure class='row mb-5'>
            <img alt='' src='./assets/images/exemples/attestation-ass.png'>
            <figcaption class='sr-only'>
                L'information se trouve dans la case  “Montant brut journalier” de votre dernière attestation de période indemnisée Pôle emploi.
            </figcaption>
        </figure>">
    </app-tooltip>
</ng-template>

<ng-template #modalDateOuvertureASSTemplate>
    <app-tooltip [modalRef]="modalService.modalRef" htmlData="
        <h3 id='modalTitle' class='headline-3-typo headline-3-typo-color'>
            Où trouver cette information ?
        </h3>
        <p class='body-1-typo'>
            Sur votre notification d'admission à l'ASS 👇
        </p>
        <figure class='row mb-5'>
            <img alt='' src='./assets/images/exemples/ouverture-droit-ass.png'>
            <figcaption class='sr-only'>
                L'information se trouve dans le bloc “Vos droits” de votre notification d'admission à l'ASS.
            </figcaption>
        </figure>">
    </app-tooltip>
</ng-template>

<ng-template #modalAllocationARETemplate>
    <app-tooltip [modalRef]="modalService.modalRef" htmlData="
        <h3 id='modalTitle' class='headline-3-typo headline-3-typo-color'>
            Où trouver cette information ?
        </h3>
        <p class='body-1-typo'>
            Sur la page 2 de votre dernier relevé de situation Pôle emploi 👇
        </p>
        <figure class='row mb-5'>
            <img alt='' src='./assets/images/exemples/releve-are.png'>
            <figcaption class='sr-only'>
                L'information se trouve dans le bloc “Informations sur vos droits” de votre relevé de situation Pôle emploi.
            </figcaption>
        </figure>
        <h4 class='headline-4-typo headline-4-typo-color'>
            Où trouver votre dernier relevé de situation ARE ?
        </h4>
        <h5 class='headline-5-typo headline-5-typo-color'>
            Sur Internet :
        </h5>
        <ol>
            <li class='body-1-typo'>
                Rendez-vous votre espace personnel Pôle emploi, dans la rubrique <i>“Mes courriers reçus” </i> <a href='https://courriers.pole-emploi.fr/courriersweb/mescourriers' target='_blank'>en cliquant ici</a>
            </li>
            <li class='body-1-typo'>
                Dans la liste des courriers reçus vous trouverez vos notifications ARE
            </li>
            <li class='body-1-typo'>
                Choisissez le relevé de situation le plus récent et cliquez sur <i>“Télécharger”</i>
            </li>
        </ol>
        <h5 class='headline-5-typo headline-5-typo-color'>
            Sur l'application mobile <i>“Mon Espace”</i> de Pôle emploi :
        </h5>
        <ol>
            <li class='body-1-typo'>
                Ouvrez l'application et connectez-vous si nécessaire
            </li>
            <li class='body-1-typo'>
                Accédez à vos courriers depuis la barre de menu en bas de l'écran
            </li>
            <li class='body-1-typo'>
                Dans la liste, identifiez le relevé de situation le plus récent et ouvrez-le
            </li>
        </ol>">
    </app-tooltip>
</ng-template>

<ng-template #modalTauxReduitTemplate>
    <app-tooltip [modalRef]="modalService.modalRef" htmlData="
        <p class='body-1-typo'>
            Cette information est présente sur votre premier relevé de situation tenant compte de la dégressivité, si vous n'avez pas cette information, veuillez vous connecter à votre espace personnel
        </p>">
    </app-tooltip>
</ng-template>

<ng-template #modalDegressiviteTemplate>
    <app-tooltip [modalRef]="modalService.modalRef" htmlData="
        <p class='body-1-typo'>
            La dégressivité est une réduction de l'allocation chômage appliquée aux demandeurs d'emploi qui avaient moins de 57 ans au moment de leur fin de contrat et dont les revenus excédaient un certain montant <a href='http://plmpl.fr/c/pXKCb'>(plus d'infos)</a>
        </p>">
    </app-tooltip>
</ng-template>

<ng-template #modalChiffreAffairesTemplate>
    <app-tooltip [modalRef]="modalService.modalRef" htmlData="
        <p class='body-1-typo'>
            Le chiffre d'affaires est la somme des ventes de biens ou de services d'une entreprise. Il est égal au montant (hors taxes) de l'ensemble des transactions réalisées par l'entreprise
        </p>">
    </app-tooltip>
</ng-template>

<ng-template #modalPensionInvaliditeTemplate>
    <app-tooltip [modalRef]="modalService.modalRef" htmlData="
        <h3 id='modalTitle' class='headline-3-typo headline-3-typo-color'>
            Où trouver cette information ?
        </h3>
        <p class='body-1-typo'>
            Sur votre dernière attestation de paiement de pension d\'invalidité 👇
        </p>
        <figure class='row mb-5'>
            <img alt='' src='./assets/images/exemples/attestation-pi.png'>
            <figcaption class='sr-only'>
                L'information se trouve sous le tableau récapitulatif de la période de paiment de votre dernière attestation de paiement de pension d\'invalidité.
            </figcaption>
        </figure>">
    </app-tooltip>
</ng-template>

<ng-template #modalMontantRSATemplate>
    <app-tooltip [modalRef]="modalService.modalRef" htmlData="
        <h3 id='modalTitle' class='headline-3-typo headline-3-typo-color'>
            Où trouver cette information ?
        </h3>
        <p class='body-1-typo'>
            Sur votre dernière attestation de paiement CAF 👇
        </p>
        <figure class='row mb-5'>
            <img alt='' src='./assets/images/exemples/attestation-rsa.png'>
            <figcaption class='sr-only'>
                L'information se trouve à la ligne Revenu de Solidarité Active de la rubrique prestations de votre dernière attestation de paiement CAF .
            </figcaption>
        </figure>">
    </app-tooltip>
</ng-template>

<ng-template #modalMontantAAHTemplate>
    <app-tooltip [modalRef]="modalService.modalRef" htmlData="
        <h3 id='modalTitle' class='headline-3-typo headline-3-typo-color'>
            Où trouver cette information ?
        </h3>
        <p class='body-1-typo'>
            Sur votre dernière attestation de paiement CAF 👇
        </p>
        <figure class='row mb-5'>
            <img alt='' src='./assets/images/exemples/attestation-aah.png'>
            <figcaption class='sr-only'>
                L'information se trouve à la ligne Allocation Adulte Handicapé de la rubrique prestations de votre dernière attestation de paiement CAF .
            </figcaption>
        </figure>">
    </app-tooltip>
</ng-template>

<ng-template #modalProchaineDeclarationTrimestrielleTemplate>
    <app-tooltip [modalRef]="modalService.modalRef" htmlData="
        <h3 id='modalTitle' class='headline-3-typo headline-3-typo-color'>
            Où trouver cette information ?
        </h3>
        <p class='body-1-typo'>
            Sur votre espace CAF, dans la rubrique “mon agenda”
        </p>">
    </app-tooltip>
</ng-template>

<ng-template #modalRevenusImmobiliersTemplate>
    <app-tooltip [modalRef]="modalService.modalRef" htmlData="
        <h3 id='modalTitle' class='headline-3-typo headline-3-typo-color'>
            Retrouvez cette information sur le dernier avis d'imposition sur le revenu :
        </h3>
        <p class='body-1-typo'>
            * revenus fonciers ou micro-fonciers
            <br>
            * revenus des capitaux (actions, obligations)
            <br>
            * bénéfices d'une rente viagère
        </p>">
    </app-tooltip>
</ng-template>