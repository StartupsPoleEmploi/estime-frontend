<nav class="container-fluid div-fil-etapes-simulation" aria-label="Train d'étape">
  <ol class="etapes">
    <li *ngFor="let etapeSimulation of etapesSimulation; let index = index;"
      [ngClass]="{'etape-active': etapeActive === etapeSimulation.numero, 'etape-completee': etapeActive > etapeSimulation.numero, 'etape-a-completer': etapeActive < etapeSimulation.numero}"
      class="etape" [aria-label]="'Étape '+etapeSimulation.numero">
      <button type="button" class="button-etape" [ngClass]="{'hoveredEtape': etapeSimulation.numero == hoveredEtape}"
        [ngStyle]="{'cursor':(etapeActive >= etapeSimulation.numero)?'pointer':'not-allowed'}"
        (click)="onClickButtonEtape(etapeActive, etapeSimulation.numero)"
        (mouseover)="onMouseOverEtape(etapeActive,etapeSimulation.numero)" (mouseleave)="onMouseLeaveEtape()"
        (keyup)="handleKeyUpOnEtape($event, etapeActive, etapeSimulation.numero)"
        [disabled]="(etapeActive < etapeSimulation.numero)"
        [attr.aria-current]="(etapeActive == etapeSimulation.numero)?'step':''">
        <div class="numero-etape">
          <span *ngIf="etapeActive <= etapeSimulation.numero" class="overline-typo"
            aria-hidden="true">{{etapeSimulation.numero}}</span>
          <span *ngIf="etapeActive > etapeSimulation.numero" class="checkmark"
            [id]="'checkmark_etape_'+etapeSimulation.numero">
            <img alt="" src="./assets/images/icones/checkmark.svg" aria-hidden="true">
          </span>
        </div>
        <div class="titre-etape caption-typo" [innerHTML]="etapeSimulation.titre"></div>
      </button>
    </li>
  </ol>
</nav>